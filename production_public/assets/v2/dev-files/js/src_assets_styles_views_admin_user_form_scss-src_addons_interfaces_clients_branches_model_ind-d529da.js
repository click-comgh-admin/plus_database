"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["src_assets_styles_views_admin_user_form_scss-src_addons_interfaces_clients_branches_model_ind-d529da"],{43753:(e,t,i)=>{i.r(t)},38034:(e,t,i)=>{i.r(t)},28207:(e,t,i)=>{i.r(t)},91243:(e,t,i)=>{i.r(t)},60675:(e,t,i)=>{i.r(t),i.d(t,{Convert:()=>r,typeMap:()=>d});class r{static toClientBranchModel(e){return c(JSON.parse(e),l("ClientBranchModel"),n)}static clientBranchModelToJson(e){return JSON.stringify(c(e,l("ClientBranchModel"),s),null,2)}}function o(e,t,i=""){if(i)throw Error(`Invalid value for key "${i}". Expected type ${JSON.stringify(e)} but got ${JSON.stringify(t)}`);throw Error(`Invalid value ${JSON.stringify(t)} for type ${JSON.stringify(e)}`)}function n(e){if(void 0===e.jsonToJS){const t={};e.props.forEach((e=>t[e.json]={key:e.js,typ:e.typ})),e.jsonToJS=t}return e.jsonToJS}function s(e){if(void 0===e.jsToJSON){const t={};e.props.forEach((e=>t[e.js]={key:e.json,typ:e.typ})),e.jsToJSON=t}return e.jsToJSON}function c(e,t,i,r=""){if("any"===t)return e;if(null===t&&null===e)return e;if(!1!==t){for(;"object"==typeof t&&void 0!==t.ref;)t=d[t.ref];return Array.isArray(t)?function(e,t){return-1!==e.indexOf(t)?t:o(e,t)}(t,e):"object"==typeof t?t.hasOwnProperty("unionMembers")?function(e,t){const r=e.length;for(let o=0;o<r;o++){const r=e[o];try{return c(t,r,i)}catch(e){}}return o(e,t)}(t.unionMembers,e):t.hasOwnProperty("arrayItems")?function(e,t){return Array.isArray(t)?t.map((t=>c(t,e,i))):o("array",t)}(t.arrayItems,e):t.hasOwnProperty("props")?function(e,t,r){if(null===r||"object"!=typeof r||Array.isArray(r))return o("object",r);const n={};return Object.getOwnPropertyNames(e).forEach((t=>{const o=e[t],s=Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;n[o.key]=c(s,o.typ,i,o.key)})),Object.getOwnPropertyNames(r).forEach((o=>{Object.prototype.hasOwnProperty.call(e,o)||(n[o]=c(r[o],t,i,o))})),n}(i(t),t.additional,e):o(t,e):t===Date&&"number"!=typeof e?function(e){if(null===e)return null;const t=new Date(e);return isNaN(t.valueOf())?o("Date",e):t}(e):function(e,t){return typeof e==typeof t?t:o(e,t,r)}(t,e)}}function a(...e){return{unionMembers:e}}function l(e){return{ref:e}}const d={ClientBranchModel:(p=[{json:"id",js:"id",typ:a(null,0)},{json:"name",js:"name",typ:a(null,"")},{json:"accountId",js:"accountID",typ:a(null,0)},{json:"createdBy",js:"createdBy",typ:a(null,0)},{json:"creationDate",js:"creationDate",typ:a(null,Date)},{json:"updatedBy",js:"updatedBy",typ:a(null,0)},{json:"updateDate",js:"updateDate",typ:a(null,Date)}],!1,{props:p,additional:false})};var p},26224:(e,t,i)=>{i.r(t),i.d(t,{GET_ClientBranches:()=>c});var r=i(48485),o=i(87270),n=i(14492),s=i(33600);function c(e=null){return t=this,i=void 0,a=function*(){const t=(0,s.getUserLoginInfoCookie)(),i=r.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/branch"+(null===e?"":"/"+e),c=yield(0,o.http)(i,{method:"GET",headers:{Authorization:"Token "+t.token}},!0);try{return new n.NetWorkCallResponses("get",c)}catch(e){console.error({error:e});let t=c;return t.error=e,new n.NetWorkCallResponses("get",t,!0)}},new((c=void 0)||(c=Promise))((function(e,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function n(e){try{s(a.throw(e))}catch(e){r(e)}}function s(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(o,n)}s((a=a.apply(t,i||[])).next())}));var t,i,c,a}},90072:(e,t,i)=>{i.r(t),i.d(t,{GET_MemberGroupingsMemberCategories:()=>c});var r=i(48485),o=i(87270),n=i(14492),s=i(33600);function c(e=null){return t=this,i=void 0,a=function*(){const t=(0,s.getUserLoginInfoCookie)(),i=r.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"members/groupings/member-category"+(null===e?"":"/"+e),c=yield(0,o.http)(i,{method:"GET",headers:{Authorization:"Token "+t.token}},!0);try{return new n.NetWorkCallResponses("get",c)}catch(e){console.error({error:e});let t=c;return t.error=e,new n.NetWorkCallResponses("get",t,!0)}},new((c=void 0)||(c=Promise))((function(e,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function n(e){try{s(a.throw(e))}catch(e){r(e)}}function s(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(o,n)}s((a=a.apply(t,i||[])).next())}));var t,i,c,a}},39068:(e,t,i)=>{i.r(t),i.d(t,{PATCH_MembershipOrganizationUser:()=>p});var r=i(86455),o=i.n(r),n=i(48485),s=i(87270),c=i(14492),a=i(8967),l=i(33600),d=function(e,t,i,r){return new(i||(i=Promise))((function(o,n){function s(e){try{a(r.next(e))}catch(e){n(e)}}function c(e){try{a(r.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};function p(e,t=null){return d(this,void 0,void 0,(function*(){const i=(0,l.getUserLoginInfoCookie)(),r=n.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"members/user-organization/"+e,p=document.querySelector('[make-general-posts="members-user-organization"]'),u=new FormData(p);return o().fire({title:null!=t?t:"Update Member Data?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>d(this,void 0,void 0,(function*(){return yield(0,s.http)(r,{method:"PATCH",body:u,headers:{Authorization:"Token "+i.token}},!1).then((e=>{const t=new c.NetWorkCallResponses("post",e,!1,p),i=t.response;if("nameError"in i&&"unknownError"in i&&i.unknownError.length>0){let e=[];i.unknownError.forEach((t=>{t.errors.forEach((i=>{let r={error:t.id+": "+i};"non_field_errors"===t.id&&(r={error:i}),e.push(r)}))}));const t=(0,a.https_swal_error_format)(e);o().showValidationMessage(`${t}`)}return t})).catch((e=>{o().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!o().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success",i=!1;const r=e.value;if(r instanceof Object){const e=r.response;t=String(e.message),i=r.response.success}i&&o().fire({title:t,icon:i?"success":"error",iconColor:i?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),i&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},57442:(e,t,i)=>{i.r(t),i.d(t,{PATCH_MembershipUser:()=>p});var r=i(86455),o=i.n(r),n=i(48485),s=i(87270),c=i(14492),a=i(8967),l=i(33600),d=function(e,t,i,r){return new(i||(i=Promise))((function(o,n){function s(e){try{a(r.next(e))}catch(e){n(e)}}function c(e){try{a(r.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};function p(e,t=null){return d(this,void 0,void 0,(function*(){const i=(0,l.getUserLoginInfoCookie)(),r=n.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"members/user/"+e,p=document.querySelector('[make-general-posts="members-user"]'),u=new FormData(p);return o().fire({title:null!=t?t:"Update Member Data?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>d(this,void 0,void 0,(function*(){return yield(0,s.http)(r,{method:"PATCH",body:u,headers:{Authorization:"Token "+i.token}},!1).then((e=>{const t=new c.NetWorkCallResponses("post",e,!1,p),i=t.response;if("nameError"in i&&"unknownError"in i&&i.unknownError.length>0){let e=[];i.unknownError.forEach((t=>{t.errors.forEach((i=>{let r={error:t.id+": "+i};"non_field_errors"===t.id&&(r={error:i}),e.push(r)}))}));const t=(0,a.https_swal_error_format)(e);o().showValidationMessage(`${t}`)}return t})).catch((e=>{o().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!o().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success",i=!1;const r=e.value;if(r instanceof Object){const e=r.response;t=String(e.message),i=r.response.success}i&&o().fire({title:t,icon:i?"success":"error",iconColor:i?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),i&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},48763:(e,t,i)=>{i.r(t),i.d(t,{AlertCard:()=>c}),i(38034);var r=i(85862),o=i(59662),n=(i(28207),function(e,t,i,r){var o,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s}),s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends r.LitElement{constructor(){super(),this.loading=!1,this.success=!1,this.info=!1,this.warning=!1,this.danger=!1,this.default=!1,this.primary=!1,this.extra_class="",this.header=null,this.content=null}connectedCallback(){super.connectedCallback()}disconnectedCallback(){}render(){return this.loading?r.html`
        <div class="bg-white alert-box p-0 pr-2 mb-2">
          <div class="flex flex-row items-center">
            <div class="flex-shrink pr-4 placeholder--load-wrapper">
              <div class="p-3 placeholder--activity">
                <i class="p-2"></i>
              </div>
            </div>
            <div class="ml-2 flex-1 placeholder--load-wrapper">
              <div class="placeholder--activity p-2"></div>
            </div>
          </div>
        </div>
      `:r.html`
        <div class="alert-box">
          <div class="alert-container ${this.getClass} ${this.extra_class}">
            <aside class="${this.getClass}">
              <div class="padded">
                ${this.getIcon}
              </div>
            </aside>
            <div class="content">
              ${null!==this.header?r.html`<header class="header">${this.header}</header>`:r.nothing}
              ${null!==this.content?r.html`<main class="main">${this.content}</main>`:r.nothing}
            </div>
          </div>
        </div>
      `}get getClass(){return this.success?"success":this.info?"info":this.warning?"warning":this.danger?"danger":this.default?r.html`<mwc-icon></mwc-icon>`:this.primary?"primary":void 0}get getIcon(){return this.success?r.html`<mwc-icon>check_circle_outline</mwc-icon>`:this.info?r.html`<mwc-icon>notification_important</mwc-icon>`:this.warning?r.html`<mwc-icon>warning</mwc-icon>`:this.danger?r.html`<mwc-icon>error_outline</mwc-icon>`:this.default?r.html`<mwc-icon>priority_high</mwc-icon>`:this.primary?r.html`<mwc-icon>star_outline</mwc-icon>`:r.html`<mwc-icon>emoji_objects</mwc-icon>`}firstUpdated(){}createRenderRoot(){return this}};c.styles=[r.css`
   :host { display: block; }
  `],n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"loading",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"success",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"info",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"warning",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"danger",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"default",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"primary",void 0),n([(0,o.property)({type:String}),s("design:type",String)],c.prototype,"extra_class",void 0),c=n([(0,o.customElement)("alert-card"),s("design:paramtypes",[])],c)},37725:(e,t,i)=>{i.r(t),i.d(t,{FileInput:()=>c});var r=i(85862),o=i(59662),n=(i(29975),i(23283),i(91243),function(e,t,i,r){var o,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s}),s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends r.LitElement{constructor(){super(...arguments),this.name="",this.label="",this.value="1",this.accept="*",this.randomID=Math.floor(12345*Math.random()),this.id=this.id+"_"+this.randomID,this.startNumber=10,this.rowsPerPage=10,this.totalShowing=10,this.showSelectorLoaded=!1}styles(){return[r.css`
      #${Number(this.id)} {
        width: 1px !important;
        height: 1px !important;
        position: absolute !important;
      }
      `]}connectedCallback(){super.connectedCallback(),setInterval((()=>{void 0===this.fileSelector?this.fileSelector=this.querySelector(`[type="file"][name="${this.name}"][id="${this.id}"]`):this.showFileSelector()}))}render(){return this.required?this.multiple?r.html`
          <div class="form-input border">
            ${this.hasLabel?r.html`<label for="${this.id}" class="w-full text-sm pb-2 text-gray-500">${this.label}*</label>`:r.nothing}
            <input accept="${this.accept}" class="form-input" type="file" name="${this.name}[]" id="${this.id}" multiple required />
          </div>
        `:r.html`
          <div class="form-input border">
            ${this.hasLabel?r.html`<label for="${this.id}" class="w-full text-sm pb-2 text-gray-500">${this.label}*</label>`:r.nothing}
            <input accept="${this.accept}" class="form-input" type="file" name="${this.name}" id="${this.id}" required />
          </div>
        `:this.multiple?r.html`
          <div class="form-input border">
            ${this.hasLabel?r.html`<label for="${this.id}" class="w-full text-sm pb-2 text-gray-500">${this.label}</label>`:r.nothing}
            <input accept="${this.accept}" type="file" name="${this.name}[]" id="${this.id}" multiple />
          </div>
        `:r.html`
          <div class="form-input border">
            ${this.hasLabel?r.html`<label for="${this.id}" class="w-full text-sm pb-2 text-gray-500">${this.label}</label>`:r.nothing}
            <input accept="${this.accept}" type="file" name="${this.name}" id="${this.id}" />
          </div>
        `}firstUpdated(){}showFileSelector(){!1===this.showSelectorLoaded&&(this.showSelectorLoaded=!0)}createRenderRoot(){return this}};n([(0,o.property)({type:String}),s("design:type",String)],c.prototype,"name",void 0),n([(0,o.property)({type:String}),s("design:type",String)],c.prototype,"label",void 0),n([(0,o.property)({type:String}),s("design:type",String)],c.prototype,"value",void 0),n([(0,o.property)({type:String}),s("design:type",String)],c.prototype,"accept",void 0),n([(0,o.property)({type:Number}),s("design:type",Number)],c.prototype,"randomID",void 0),n([(0,o.property)({type:String}),s("design:type",String)],c.prototype,"id",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"required",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"hasLabel",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"multiple",void 0),n([(0,o.property)({type:Number}),s("design:type",Number)],c.prototype,"startNumber",void 0),n([(0,o.property)({type:Number}),s("design:type",Number)],c.prototype,"rowsPerPage",void 0),n([(0,o.property)({type:Number}),s("design:type",Number)],c.prototype,"totalShowing",void 0),n([(0,o.property)({type:Boolean}),s("design:type",Boolean)],c.prototype,"showSelectorLoaded",void 0),c=n([(0,o.customElement)("file-input")],c)},82342:(e,t,i)=>{i.r(t),i.d(t,{PdbMembershipUpdateViewBranchCategory:()=>l}),i(51511),i(23283),i(40789),i(48763);var r=i(85862),o=i(59662),n=i(39068),s=i(57442),c=function(e,t,i,r){var o,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.LitElement{constructor(){super(),this.memberInfo=null,this.categories=[],this.branches=[]}connectedCallback(){super.connectedCallback()}disconnectedCallback(){}render(){return console.log({"this.branches":this.branches}),console.log({"this.categories":this.categories}),null===this.memberInfo?this.pageLoading:(this.memberInfo.length<1&&this.memberInfo.push(null),this.memberInfo.map((e=>r.html`
      <form method="post" action="#" class="form !my-1" make-general-posts="--awaiting-type--" enctype="multipart/form-data">
        <div
          class="flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800 flex-col px-2 mt-1 mb-2">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 grid-flow-row gap-4">
            <div class="p-2">
              <h4 class="font-semibold my-2">Select Account Branch</h4>
              <mwc-select name="branchId" id="branchId" label="Select Account Branch" outlined required>
                ${this.branches.map((t=>e.branchId===t.id?r.html`<mwc-list-item value="${t.id}" selected>${t.name}</mwc-list-item>`:r.html`<mwc-list-item value="${t.id}">${t.name}</mwc-list-item>`))}
              </mwc-select>
            </div>
            <div class="p-2">
              <h4 class="font-semibold my-2">Select Account Category</h4>
              <mwc-select name="memberType" id="memberType" label="Select Account Category" outlined required>
                ${this.categories.map((t=>e.memberType===t.id?r.html`<mwc-list-item value="${t.id}" selected>${t.category}</mwc-list-item>`:r.html`<mwc-list-item value="${t.id}">${t.category}</mwc-list-item>`))}
              </mwc-select>
            </div>
            <input type="hidden" name="memberId" id="memberId" value="${this.memberId}" />
          </div>
        </div>
        <div
          class="flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800 flex-col my-2 p-1">
          <mwc-button class="primary" raised type="submit" label="Submit" @click="${this.submitForm}">
          </mwc-button>
        </div>
      </form>
     `)))}get pageLoading(){return r.html`
    <div class="main-container">
      <div class="flex justify-center">
        <mwc-circular-progress indeterminate></mwc-circular-progress>
      </div>
    </div>
   `}firstUpdated(){}submitForm(e){return t=this,i=void 0,o=function*(){if("member"===this.updateType){const e=this.handleMultitpleSubmitFormSelectors();e.handle("members-user"),yield(0,s.PATCH_MembershipUser)(this.memberId),e.reset("members-user")}else{const e=this.handleMultitpleSubmitFormSelectors();e.handle("members-user-organization"),yield(0,n.PATCH_MembershipOrganizationUser)(this.memberId),e.reset("members-user-organization")}},new((r=void 0)||(r=Promise))((function(e,n){function s(e){try{a(o.next(e))}catch(e){n(e)}}function c(e){try{a(o.throw(e))}catch(e){n(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(s,c)}a((o=o.apply(t,i||[])).next())}));var t,i,r,o}handleMultitpleSubmitFormSelectors(){return{handle:e=>{document.querySelectorAll('[make-general-posts="--awaiting-type--"]').forEach((t=>{t.hasAttribute("make-general-posts")&&t.setAttribute("make-general-posts",e)}))},reset:e=>{document.querySelectorAll(`[make-general-posts="${e}"]`).forEach((e=>{e.setAttribute("make-general-posts","--awaiting-type--")}))}}}createRenderRoot(){return this}};l.styles=[r.css`
   :host { display: block; }
  `],c([(0,o.property)({type:Number}),a("design:type",Number)],l.prototype,"memberId",void 0),c([(0,o.property)({type:String}),a("design:type",String)],l.prototype,"updateType",void 0),c([(0,o.property)({type:Array}),a("design:type",Array)],l.prototype,"memberInfo",void 0),c([(0,o.property)({type:Array}),a("design:type",Array)],l.prototype,"categories",void 0),c([(0,o.property)({type:Array}),a("design:type",Array)],l.prototype,"branches",void 0),l=c([(0,o.customElement)("pdb-membership-update-view-branch-category"),a("design:paramtypes",[])],l)},39280:(e,t,i)=>{i.r(t),i.d(t,{PdbMembershipUpdateViewLocation:()=>f}),i(51511),i(23283),i(40789),i(63313);var r=i(85862),o=i(59662),n=(i(48763),i(39068)),s=i(74564),c=i(24253),a=i(75458),l=i(71791),d=i(46525),p=i(91729),u=i(57442),m=function(e,t,i,r){var o,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e,t,i,r){return new(i||(i=Promise))((function(o,n){function s(e){try{a(r.next(e))}catch(e){n(e)}}function c(e){try{a(r.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let f=class extends r.LitElement{constructor(){super(),this.selectedCountry=0,this.memberInfo=null,this.regionCalled=!1,this.selectedRegion=0,this.selectedDistrict=0,this.countries=[],this.regions=[],this.districts=[],this.constituencies=[],this.constituenciesMemo={},this.districtsMemo={}}connectedCallback(){super.connectedCallback()}disconnectedCallback(){}render(){if(null===this.memberInfo)return this.pageLoading;this.memberInfo.length<1&&this.memberInfo.push(null);const e="member"===this.updateType?"countryOfResidence":"countryOfBusiness";return this.memberInfo.map((t=>r.html`
      <form method="post" action="#" class="form !my-1" make-general-posts="--awaiting-type--" enctype="multipart/form-data">
        <div
          class="flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800 flex-col px-2 mt-1 mb-2">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 grid-flow-row gap-4">
            <div class="p-2">
              <h4 class="font-semibold my-2">Select Country</h4>
              <mwc-select name="${e}" id="${e}" label="Select Country" outlined required @change="${this.countryChanged}">
                ${this.countries.map((e=>{let i=0;return(null==t?void 0:t.countryInfo.length)>0&&(i=null==t?void 0:t.countryInfo[0].id),i===e.id?r.html`<mwc-list-item value="${e.id}" selected>${e.name}</mwc-list-item>`:r.html`<mwc-list-item value="${e.id}">${e.name}</mwc-list-item>`}))}
              </mwc-select>
            </div>
            ${76===this.selectedCountry?r.html`<div class="p-2">
              <h4 class="font-semibold my-2">Select Region</h4>
              <mwc-select name="region" id="region" label="Select Region" outlined required @change="${this.regionChanged}">
                ${this.regions.map((e=>(null==t?void 0:t.region)===e.id?r.html`<mwc-list-item value="${e.id}" selected>${e.location}</mwc-list-item>`:r.html`<mwc-list-item value="${e.id}">${e.location}</mwc-list-item>`))}
              </mwc-select>
            </div>`:r.nothing}
            ${76===this.selectedCountry?r.html`<div class="p-2">
              <h4 class="font-semibold my-2">Select District</h4>
              <mwc-select name="district" id="district" label="Select District" outlined required @change="${this.districtChanged}">
                ${this.districts.map((e=>(null==t?void 0:t.district)===e.id?r.html`<mwc-list-item value="${e.id}" selected>${e.location}</mwc-list-item>`:r.html`<mwc-list-item value="${e.id}">${e.location}</mwc-list-item>`))}
              </mwc-select>
            </div>`:r.nothing}
            ${76===this.selectedCountry?r.html`<div class="p-2">
              <h4 class="font-semibold my-2">Select Constituency</h4>
              <mwc-select name="constituency" id="constituency" label="Select Constituency" outlined required>
                ${this.constituencies.map((e=>(null==t?void 0:t.constituency)===e.id?r.html`<mwc-list-item value="${e.id}" selected>${e.location}</mwc-list-item>`:r.html`<mwc-list-item value="${e.id}">${e.location}</mwc-list-item>`))}
              </mwc-select>
            </div>`:r.nothing}
            ${76!==this.selectedCountry?r.html`<div class="p-2">
              <h4 class="font-semibold my-2">Enter State/ Province</h4>
              <mwc-textfield name="stateProvince" id="stateProvince" label="Enter State/ Province" outlined type="text" value="${null==t?void 0:t.stateProvince}">
              </mwc-textfield>
            </div>`:r.nothing}
            <input type="hidden" name="memberId" id="memberId" value="${this.memberId}" />
          </div>
        </div>
        <div
          class="flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800 flex-col my-2 p-1">
          <mwc-button class="primary" raised type="submit" label="Submit" @click="${this.submitForm}">
          </mwc-button>
        </div>
      </form>
     `))}get pageLoading(){return r.html`
    <div class="main-container">
      <div class="flex justify-center">
        <mwc-circular-progress indeterminate></mwc-circular-progress>
      </div>
    </div>
   `}countryChanged(e){return y(this,void 0,void 0,(function*(){const t=e.currentTarget.value;this.selectedCountry=Number.isNaN(t)?0:Number(t),this.countryCheck(!1)}))}countryCheck(e){return y(this,void 0,void 0,(function*(){const t="member"===this.updateType?"countryOfResidence":"countryOfBusiness";if(e){const e=document.querySelector('[name="'+t+'"]').value;this.selectedCountry=Number.isNaN(e)?0:Number(e)}76===this.selectedCountry&&(!1===this.regionCalled&&(yield this.getLocationRegion()),this.regionCalled=!0)}))}regionChanged(e){return y(this,void 0,void 0,(function*(){const t=e.currentTarget.value;this.selectedRegion=Number.isNaN(t)?0:Number(t),this.getLocationDistrict(this.selectedRegion)}))}districtChanged(e){const t=e.currentTarget.value;this.selectedDistrict=Number.isNaN(t)?0:Number(t),this.getLocationConstituency(this.selectedRegion,this.selectedDistrict)}firstUpdated(){setTimeout((()=>{this.countryCheck(!0)}),100)}getLocationRegion(){return y(this,void 0,void 0,(function*(){const e=yield(0,p.GET_LocationRegion)(null,"?client=0");let t=[{id:0,location:"Select Region"}];if(null===e)t.push({id:0,location:"**NOT FOUND**"});else if(!0===e.response.success&&"length"in e.response.data){const i=e.response.data.map((e=>a.Convert.toLocationRegionModel(JSON.stringify(e))));t=[...t,...i]}const i=[];i.push(...this.regions,...t),this.regions=i}))}getLocationDistrict(e){return y(this,void 0,void 0,(function*(){this.districts=[];const t=String(e),i=this.districtsMemo;if(t in i)setTimeout((()=>{const e=[];e.push(...this.districts,...i[t]),this.districts=e}),100);else{const i=yield(0,d.GET_LocationDistrictFilter)(e);let r=[{id:0,location:"Select District",regionId:null}];if(null===i)r.push({id:0,location:"**NOT FOUND**",regionId:null});else if(!0===i.response.success&&"length"in i.response.data){const e=i.response.data.map((e=>c.Convert.toLocationDistrictModel(JSON.stringify(e))));r=[...r,...e],this.districtsMemo[t]=r}const o=[];o.push(...this.districts,...r),this.districts=o}}))}getLocationConstituency(e,t){return y(this,void 0,void 0,(function*(){this.constituencies=[];const i=`${e}_${t}`,r=this.constituenciesMemo;if(i in r)setTimeout((()=>{const e=[];e.push(...this.constituencies,...r[i]),this.constituencies=e}),100);else{const r=yield(0,l.GET_LocationConstituencyFilter)(e,t);let o=[{id:0,location:"Select Constituency",regionId:null}];if(null===r)o.push({id:0,location:"**NOT FOUND**",regionId:null});else if(!0===r.response.success&&"length"in r.response.data){const e=r.response.data.map((e=>s.Convert.toLocationConstituencyModel(JSON.stringify(e))));o=[...o,...e],this.constituenciesMemo[i]=o}const n=[];n.push(...this.constituencies,...o),this.constituencies=n}}))}submitForm(e){return y(this,void 0,void 0,(function*(){if("member"===this.updateType){const e=this.handleMultitpleSubmitFormSelectors();e.handle("members-user"),yield(0,u.PATCH_MembershipUser)(this.memberId),e.reset("members-user")}else{const e=this.handleMultitpleSubmitFormSelectors();e.handle("members-user-organization"),yield(0,n.PATCH_MembershipOrganizationUser)(this.memberId),e.reset("members-user-organization")}}))}handleMultitpleSubmitFormSelectors(){return{handle:e=>{document.querySelectorAll('[make-general-posts="--awaiting-type--"]').forEach((t=>{t.hasAttribute("make-general-posts")&&t.setAttribute("make-general-posts",e)}))},reset:e=>{document.querySelectorAll(`[make-general-posts="${e}"]`).forEach((e=>{e.setAttribute("make-general-posts","--awaiting-type--")}))}}}createRenderRoot(){return this}};f.styles=[r.css`
   :host { display: block; }
  `],m([(0,o.property)({type:Number}),h("design:type",Number)],f.prototype,"memberId",void 0),m([(0,o.property)({type:String}),h("design:type",String)],f.prototype,"updateType",void 0),m([(0,o.property)({type:Number}),h("design:type",Number)],f.prototype,"selectedCountry",void 0),m([(0,o.property)({type:Array}),h("design:type",Array)],f.prototype,"memberInfo",void 0),m([(0,o.property)({type:Boolean}),h("design:type",Boolean)],f.prototype,"regionCalled",void 0),m([(0,o.property)({type:Number}),h("design:type",Number)],f.prototype,"selectedRegion",void 0),m([(0,o.property)({type:Number}),h("design:type",Number)],f.prototype,"selectedDistrict",void 0),m([(0,o.property)({type:Array}),h("design:type",Array)],f.prototype,"countries",void 0),m([(0,o.property)({type:Array}),h("design:type",Array)],f.prototype,"regions",void 0),m([(0,o.property)({type:Array}),h("design:type",Array)],f.prototype,"districts",void 0),m([(0,o.property)({type:Array}),h("design:type",Array)],f.prototype,"constituencies",void 0),m([(0,o.property)({type:Object}),h("design:type",Object)],f.prototype,"constituenciesMemo",void 0),m([(0,o.property)({type:Object}),h("design:type",Object)],f.prototype,"districtsMemo",void 0),f=m([(0,o.customElement)("pdb-membership-update-view-location"),h("design:paramtypes",[])],f)},19981:(e,t,i)=>{i.r(t),i.d(t,{PAGE__IDS:()=>r});const r={view:21,edit:22,create:23,"view-organization":53,"edit-organization":54}}}]);
//# sourceMappingURL=src_assets_styles_views_admin_user_form_scss-src_addons_interfaces_clients_branches_model_ind-d529da.js.map