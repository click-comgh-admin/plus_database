"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["src_addons_classes_network_calls_response_ts"],{14492:(s,e,t)=>{t.r(e),t.d(e,{NetWorkCallResponses:()=>o});var r=t(6217);class o{constructor(s,e,t=!1,r=null){this.response=null,this.nonFieldErrorResponse=null,this.multipleResponse=null,this.paginResponse=null,this.databaseResponse=null,this.postForm=null;const o=e.jsonData,a=e.response;this.postForm=r,t?this.error(e.error):"get"===s?this.get(o,a):"post"===s?this.post(o,a):"post-file"===s?this.postFile(o,a):"put"===s?this.put(o,a):"patch"===s?this.patch(o,a):"delete"===s&&this.delete(o,a)}error(s){this.response=s}outputResponse(s,e,t){return{success:s,message:e,data:t}}outputResponsePagin(s){return{count:s.count,next:s.next,previous:s.previous,results:s.results}}outputResponseDatatable(s){return{data:s.data,datatable_plugin:s.datatable_plugin,draw:s.draw,recordsFiltered:s.recordsFiltered,recordsTotal:s.recordsTotal}}outputErrorResponse(s,e,t,r,o){return{success:s,message:e,nameError:t,unknownError:r,data:o}}get(s,e){let t;if(s.hasOwnProperty("success")&&s.hasOwnProperty("message")&&s.hasOwnProperty("data"))t=s;else{if(s.hasOwnProperty("count")&&s.hasOwnProperty("next")&&s.hasOwnProperty("previous")&&s.hasOwnProperty("results"))return this.paginResponse=this.outputResponsePagin(s),this.paginResponse;if(s.hasOwnProperty("draw")&&s.hasOwnProperty("recordsTotal")&&s.hasOwnProperty("recordsFiltered")&&s.hasOwnProperty("data"))return this.databaseResponse=this.outputResponseDatatable(s),this.databaseResponse;s.hasOwnProperty("detail")&&404===e.status&&(t={data:[],message:s.detail,success:!1})}this.response=this.outputResponse(t.success,t.message,t.data)}postFile(s,e){throw new Error("Method not implemented.")}post(s,e){let t;if(s.hasOwnProperty("success")&&s.hasOwnProperty("message")&&s.hasOwnProperty("data"))t=s;else if(Array.isArray(s))if(e.ok){const e=s[0].SUCCESS_RESPONSE_MESSAGE;s.map((s=>(delete s.SUCCESS_RESPONSE_MESSAGE,s))),this.response=this.outputResponse(!0,e,s)}else{let e=[];s.forEach((s=>{t=this.postError(s);const r=this.outputErrorResponse(t.success,t.message,t.nameError,t.unknownError,t.data);e.includes(r)||e.push(r)})),this.multipleResponse=e}else if(e.ok){const e=s.SUCCESS_RESPONSE_MESSAGE;delete s.SUCCESS_RESPONSE_MESSAGE,this.response=this.outputResponse(!0,e,s)}else t=this.postError(s),this.response=this.outputErrorResponse(t.success,t.message,t.nameError,t.unknownError,t.data)}postError(s){const e=this.postErrorFields(s),t=this.postNamedErrorFields(e),r=this.postNonNamedErrorFields(e),o=this.postErrorInputs(t,r);return{success:!1,message:e,nameError:o.nameErrorFields,unknownError:o.nonNameErrorFields,data:s}}postErrorFields(s){let e=[];for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const r={id:t,errors:s[t]};e.includes(r)||e.push(r)}return e}postNamedErrorFields(s){let e=[];return s.forEach((s=>{"non_field_errors"!==s.id&&(e.includes(s)||e.push(s))})),e}postNonNamedErrorFields(s){let e=[];return s.forEach((s=>{"non_field_errors"===s.id&&(e.includes(s)||e.push(s))})),e}validateInput(s){s.hasOwnProperty("mdcFoundation")&&(s.hasOwnProperty("setCustomValidity")&&s.setCustomValidity(""),s.isUiValid=!0,s.validityTransform=(s,e)=>e.valid?{}:{valid:!1,customError:!0})}postErrorInputs(s,e){if(null!==this.postForm){const s=JSON.parse((0,r.formDataToJson)(new FormData(this.postForm)));for(const e in s){let s;try{s=document.querySelector('[name="'+e+'"]')}catch(t){const r=e.replace("[]","");s=document.querySelector('[id="'+r+'"]')}this.validateInput(s),s.addEventListener("change",(e=>{this.validateInput(s)}))}}return s.forEach((s=>{document.querySelectorAll('[id="'+s.id+'"]').forEach((t=>{if(t.hasOwnProperty("mdcFoundation"))try{const e=s.errors;if(Array.isArray(e))t.setCustomValidity(e.join("\n"));else{let s=[];for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].forEach((e=>{s.push(`Item ${t}: ${e}`)}));t.setCustomValidity(s.join("\n"))}t.reportValidity(),t.isUiValid=!1}catch(s){}else e.includes(s)||e.push(s)}))})),{nameErrorFields:s,nonNameErrorFields:e}}put(s,e){this.post(s,e)}patch(s,e){this.post(s,e)}delete(s,e){let t;if(s.hasOwnProperty("success")&&s.hasOwnProperty("message")&&s.hasOwnProperty("data"))t=s;else if(e.ok){const e="Deleted";this.response=this.outputResponse(!0,e,s)}else s.hasOwnProperty("detail")&&404===e.status&&(t={data:[],message:s.detail,success:!1},this.response=this.outputResponse(t.success,t.message,[]))}}},6217:(s,e,t)=>{t.r(e),t.d(e,{formDataToJson:()=>r});const r=s=>{let e={};return s.forEach(((s,t)=>{Reflect.has(e,t)?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(s)):e[t]=s})),JSON.stringify(e)}}}]);
//# sourceMappingURL=src_addons_classes_network_calls_response_ts.js.map