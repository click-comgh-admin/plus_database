"use strict";!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.webpackNumbers=t():e.webpackNumbers=t()}(self,(()=>(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["admin/user/edit_group_subgroup"],{9210:(e,t,s)=>{s.r(t),s.d(t,{PdbAdminUserEditGroupSubgroupForm:()=>U});var r=s(85862),n=s(59662),i=s(17725),o=s(67052),u=s(44672),c=s(46262),d=(s(51511),s(92715),s(48763),s(29958),s(12583)),l=s(32506),a=s(33600),p=s(8474),_=s(6995),g=(s(43683),s(74657),s(27712)),h=s(91354),f=s(41302),b=s(81710),m=function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,u)}c((r=r.apply(e,t||[])).next())}))};let U=class extends r.LitElement{constructor(){super(),this.userId=0,this.loggedUserId=0,this.editAccess=!1,this.page_type="mine",this._activeBranchId=null,this._userLoginInfo=null,this.__clientUser=null,this.__clientUserGroupSubgroup=this._clientUserGroupSubgroupDefault,this._hasSetup=!1}set _clientUser(e){this.__clientUser=e,this.requestUpdate()}get _clientUser(){return this.__clientUser}get _clientUserGroupSubgroupDefault(){return{data:{},message:"",success:!1}}set _clientUserGroupSubgroup(e){this.__clientUserGroupSubgroup=e,this.requestUpdate()}get _clientUserGroupSubgroup(){return this.__clientUserGroupSubgroup}connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return v(this,void 0,void 0,(function*(){e.connectedCallback.call(this),(0,g.AppSetup)().then((()=>this._hasSetup=!0)),this.getUserId();const t=(0,i.getActiveBranchIdCookie)();this._activeBranchId=null===t?null:[t],this._userLoginInfo=[(0,a.getUserLoginInfoCookie)()],0===this.userId||null===this.userId||Number.isNaN(this.userId)||(yield this.getClientUser(),this._clientUser.success&&(yield this.getLoggedUserAccess(),yield this.getClientUserGroupSubgroup(),this.userId===this.loggedUserId?this.page_type="mine":this.page_type="not-mine"))}))}disconnectedCallback(){}render(){var e;if(this._hasSetup){if(null===(e=(0,h.getAppSettingsExtraSettings)())||void 0===e?void 0:e.expiration_date.expired)return r.html`<account-expired-component></account-expired-component>`;if(!(0,f.AppSettingsExtraUserAccess)({pageId:b.PAGE__IDS.update,viewType:"Both"},!1))return r.html`<no-page-entry-component></no-page-entry-component>`}if(0===this.userId||null===this.userId||Number.isNaN(this.userId)){const e=r.html`<h4 class="text-white">Error</h4>`,t=r.html`
        <div>
          <p class="text-black mb-2">User Not Found!</p>
          <p class="text-black mb-2"><small>Follow the link back to users page.</small></p>
          <link-button isblockcontent="false" aClass="" raised bClass="button warning mr-2" href="/admin/user/accounts"
            label="Client Users Page"></link-button>
        </div>
      `;return r.html`<alert-card warning .header="${e}" .content="${t}"></alert-card>`}return null===this._clientUser?r.html`
          <div class="main-container">
            <div class="flex justify-center">
              <mwc-circular-progress indeterminate></mwc-circular-progress>
            </div>
          </div>
        `:void 0===this._clientUser?r.html`
          <div class="main-container">
            <div class="flex justify-center">
              <h4 class="text-red-600 text-lg">
                <span class="font-bold">Error </span>: undefined error</h4>
            </div>
          </div>
        `:r.html`
        <div class="shadow bg-white p-2 my-2">
          <pdb-admin-user-group-subgroup-form edit="true" page_type="${this.page_type}" ?editaccess="${this.editAccess}" .clientUser="${this._clientUser}"
            .clientUserGroupSubgroup="${this._clientUserGroupSubgroup}" .userId="${this.userId}">
          </pdb-admin-user-group-subgroup-form>
        </div>
      `}firstUpdated(){}getUserId(){let e=(0,u.urlQueryParamsGet)("user-id"),t=null!==e?(0,o.base64Decode)(e):null;this.userId=Number.isNaN(t)?null:Number(t)}getClientUser(){return v(this,void 0,void 0,(function*(){let e=0;null!==this._activeBranchId&&(e=this._activeBranchId[0].id);const t=yield(0,c.GET_ClientUsers)(this.userId,"?branchId="+e);this._clientUser=null===t?void 0:t.response}))}getClientUserGroupSubgroup(){return v(this,void 0,void 0,(function*(){const e=yield(0,p.GET_ClientUserGroupSubgroup)(null,"?userId="+this.userId);if(null===e)this._clientUserGroupSubgroup=void 0;else{const t=e.response.data;Array.isArray(t)?e.response.data=t.map((e=>_.Convert.toClientUserGroupSubgroupModel(JSON.stringify(e)))):e.response.data=[_.Convert.toClientUserGroupSubgroupModel(JSON.stringify(t))],this._clientUserGroupSubgroup=e.response}}))}getLoggedUserAccess(){return v(this,void 0,void 0,(function*(){let e=0;null!==this._userLoginInfo&&this._userLoginInfo.length>0&&(e=this._userLoginInfo[0].user.id),this.loggedUserId=e;const t=yield(0,l.GET_ClientUserAccess)(null,"?logged_user_this&userId="+this.loggedUserId);if(null!==t&&t.response.success){const e=t.response.data;Array.isArray(e)&&e.forEach((e=>{(e=(0,d.ClientUserAccess_S)(e)).page.id===b.PAGE__IDS.update&&(this.editAccess=!0)}))}}))}createRenderRoot(){return this}};U.styles=[r.css`
   :host { display: block; }
  `],m([(0,n.property)({type:Number}),y("design:type",Number)],U.prototype,"userId",void 0),m([(0,n.property)({type:Number}),y("design:type",Number)],U.prototype,"loggedUserId",void 0),m([(0,n.property)({type:Boolean}),y("design:type",Boolean)],U.prototype,"editAccess",void 0),m([(0,n.property)({type:String}),y("design:type",String)],U.prototype,"page_type",void 0),m([(0,n.property)({type:Array}),y("design:type",Array)],U.prototype,"_activeBranchId",void 0),m([(0,n.property)({type:Array}),y("design:type",Array)],U.prototype,"_userLoginInfo",void 0),m([(0,n.property)({type:Boolean}),y("design:type",Boolean)],U.prototype,"_hasSetup",void 0),U=m([(0,n.customElement)("pdb-admin-user-edit-group-subgroup-form"),y("design:paramtypes",[])],U)}},e=>(e.O(0,["vendors.lit-html","vendors.lit","vendors.lit-element","vendors.buffer","vendors.material","vendors.tslib","vendors.sweetalert2","vendors.jquery","vendors.select2","node_modules_base64-js_index_js-node_modules_ieee754_index_js-src_addons_constants_index_ts-s-981a93","src_addons_classes_network_calls_response_ts","src_view_home_branch_button_ts","src_addons_functions_app_settings_extra_settings_user_access_ts-src_addons_functions_app_sett-730152","src_addons_widgets_form_new_select_ts","src_assets_styles_views_admin_user_form_scss-src_assets_styles_views_tailwind-output_unaccess-c60780","src_addons_interfaces_members_groupings_subgroup_models_index_ts","src_addons_functions_url_query_params_index_ts-src_addons_interfaces_clients_users_model_grou-e00f93","src_addons_interfaces_clients_users_access_ts-src_view_admin_user_form_group_subgroup_ts-src_-300e54","shared"],(()=>(9210,e(e.s=9210)))),e.O())])));
//# sourceMappingURL=edit_group_subgroup.js.map