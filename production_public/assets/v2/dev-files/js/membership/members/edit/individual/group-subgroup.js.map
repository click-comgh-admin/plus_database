{"version":3,"file":"../../production_public/assets/v2/dev-files/js/membership/members/edit/individual/group-subgroup.js","mappings":"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","sources":["webpack://webpackNumbers/webpack/universalModuleDefinition","webpack://webpackNumbers/./src/addons/network/members/membership/users/index.ts","webpack://webpackNumbers/./src/view/membership/members/edit/individual/group-subgroup.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webpackNumbers\"] = factory();\n\telse\n\t\troot[\"webpackNumbers\"] = factory();\n})(self, () => {\nreturn ","import { CONSTANTS } from \"@@addons/constants\";\r\nimport { http } from \"@@addons/functions/https/http\";\r\nimport { NetWorkCallResponses } from \"@@addons/classes/network_calls/response\";\r\nimport { getUserLoginInfoCookie } from \"@@addons/functions/login\";\r\n\r\nexport async function GET_MembershipUsers<Type>(ID: Number = null, url_params: string = \"\", withLocation: boolean = false) {\r\n\r\n  const raw_url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'members/user'\r\n    + (ID === null ? \"\" : \"/\" + ID) + (url_params);\r\n  const location_url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'members/user/location'\r\n    + (ID === null ? \"\" : \"/\" + ID) + (url_params);\r\n  const _get_cookie = getUserLoginInfoCookie();\r\n  const url = withLocation ? location_url : raw_url,\r\n    HTTP = await http(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Token \" + _get_cookie.token\r\n      }\r\n    }, true);\r\n  try {\r\n    return new NetWorkCallResponses<Type>(\"get\", HTTP);\r\n  } catch (error) {\r\n    console.error({ error });\r\n    let errorHttp = HTTP;\r\n    errorHttp['error'] = error;\r\n    return new NetWorkCallResponses<Type>(\"get\", errorHttp, true);\r\n  }\r\n}","import '@@assets/styles/views/admin/user/form.scss';\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport '@material/mwc-circular-progress';\r\nimport { base64Decode } from '@@addons/functions/base64';\r\nimport { urlQueryParamsGet } from '@@addons/functions/url_query_params';\r\nimport { GET_MembershipUsers } from '@@addons/network/members/membership/users';\r\nimport { ClientBranchShort_I } from '@@addons/interfaces/clients/branches';\r\nimport { MembershipMixedUserModel, Convert as mmumConvert } from '@@addons/interfaces/members/user/mixed';\r\nimport { NetworkCallResponse_I } from '@@addons/interfaces/network_calls/response';\r\nimport { AppSetup } from '@@addons/functions/app_settings';\r\nimport { getUserLoginInfoCookie } from '@@addons/functions/login';\r\nimport { getActiveBranchIdCookie } from '@@addons/functions/views/home/branch';\r\nimport { UserLoginInfo_I } from '@@addons/interfaces/network_calls/login';\r\nimport { CONSTANTS } from '@@addons/constants';\r\nimport { getAppSettingsExtraSettings } from '@@addons/functions/app_settings/extra_settings';\r\nimport { AppSettingsExtraUserAccess } from '@@addons/functions/app_settings/extra_settings/user_access';\r\nimport { PAGE__IDS } from '../../page__id';\r\nimport '@@addons/widgets/alert';\r\nimport '../../../../no_access/no_page_entry';\r\nimport '../../../../no_access/account_expired';\r\nimport '../pages/group_subgroup';\r\n\r\n\r\n@customElement(\"pdb-membership-update-group-subgroup\")\r\nexport class PdbMembershipUpdateGroupSubgroup extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Number })\r\n  private memberId?: number = 0;\r\n\r\n  @property({ type: Array })\r\n  private _activeBranchId?: ClientBranchShort_I[] = null;\r\n\r\n\r\n  private _pdbBranchMember: NetworkCallResponse_I<MembershipMixedUserModel> = null;\r\n\r\n  public set pdbBranchMember(value: NetworkCallResponse_I<MembershipMixedUserModel>) {\r\n    this._pdbBranchMember = value;\r\n    this.requestUpdate();\r\n  }\r\n\r\n  public get pdbBranchMember(): NetworkCallResponse_I<MembershipMixedUserModel> {\r\n    return this._pdbBranchMember;\r\n  }\r\n\r\n  @property({ type: Array })\r\n  private _userLoginInfo?: UserLoginInfo_I[] = null;\r\n\r\n  @property({ type: Boolean })\r\n  private _hasSetup: boolean = false;\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    AppSetup().then(() => this._hasSetup = true);\r\n\r\n    const activeBranchId = getActiveBranchIdCookie();\r\n    this._activeBranchId = (activeBranchId === null) ? null : [activeBranchId];\r\n    this._userLoginInfo = [getUserLoginInfoCookie()];\r\n\r\n    this.getUserId();\r\n\r\n    if ((this.memberId === 0) || (this.memberId === null) || (Number.isNaN(this.memberId))) { } else {\r\n      await this.getMember();\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    if (this._hasSetup) {\r\n      if (getAppSettingsExtraSettings()?.expiration_date.expired) {\r\n        return html`<account-expired-component></account-expired-component>`;\r\n      }\r\n      if (!AppSettingsExtraUserAccess({ pageId: PAGE__IDS.edit, viewType: \"Edit\" }, false)) {\r\n        return html`<no-page-entry-component></no-page-entry-component>`;\r\n      }\r\n    }\r\n    if ((this.memberId === 0) || (this.memberId === null) || (Number.isNaN(this.memberId))) {\r\n      const header = html`<h4 class=\"text-white\">Error</h4>`;\r\n      const content = html`\r\n        <div>\r\n          <p class=\"text-black mb-2\">Member Not Found!</p>\r\n          <p class=\"text-black mb-2\"><small>Follow the link back to members page.</small></p>\r\n          <link-button isblockcontent=\"false\" aClass=\"\" raised bClass=\"button warning mr-2\"\r\n            href=\"${CONSTANTS.URLS.PDB_CLIENT}member/members\" label=\"Members Page\"></link-button>\r\n        </div>\r\n      `;\r\n      return html`<alert-card warning .header=\"${header}\" .content=\"${content}\"></alert-card>`;\r\n    } else {\r\n\r\n      if (this.pdbBranchMember === null) {\r\n        return html`\r\n          <div class=\"main-container\">\r\n            <div class=\"flex justify-center\">\r\n              <mwc-circular-progress indeterminate></mwc-circular-progress>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }\r\n      if (this.pdbBranchMember === undefined) {\r\n        return html`\r\n          <div class=\"main-container\">\r\n            <div class=\"flex justify-center\">\r\n              <h4 class=\"text-red-600 text-lg\">\r\n                <span class=\"font-bold\">Member </span>: undefined error</h4>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }\r\n\r\n      if (this.pdbBranchMember.success === false) {\r\n        const header = html`<h4 class=\"text-white\">Error</h4>`;\r\n        const content = html`\r\n          <div>\r\n            <p class=\"text-black mb-2\">Member Not Found!</p>\r\n            <p class=\"text-black mb-2\"><small>Follow the link back to users page.</small></p>\r\n            <link-button isblockcontent=\"false\" aClass=\"\" raised bClass=\"button warning mr-2\"\r\n              href=\"${CONSTANTS.URLS.PDB_CLIENT}member/members\" label=\"Members Page\"></link-button>\r\n          </div>\r\n        `;\r\n        return html`<alert-card warning .header=\"${header}\" .content=\"${content}\"></alert-card>`;\r\n      }\r\n      const pdbBranchMember = this.pdbBranchMember,\r\n        _data = pdbBranchMember.data,\r\n        DATA = mmumConvert.toMembershipMixedUserModel(\r\n          JSON.stringify(Array.isArray(_data) ? _data[0] : _data)\r\n        );\r\n      return html`\r\n        <div\r\n          class=\"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800 flex-col my-2 p-2\">\r\n          <div class=\"form-container flex justify-center\">\r\n            <div class=\"app-container- !px-0\">\r\n              <div class=\"app-container--row !px-0\">\r\n                <div class=\"app-container--col-md-12\">\r\n                  <header class=\"header warning app-container--col-md-12\">\r\n                    <label for=\"\" class=\"label\">\r\n                      <mwc-icon class=\"icon\">format_strikethrough</mwc-icon>\r\n                      <h1 class=\"h1 !text-red-400\">Member</h1>\r\n                      <h3 class=\"h3\">Update Group/ Sub-Group!</h3>\r\n                    </label>\r\n                  </header>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <pdb-membership-update-view-group-subgroup memberId=\"${DATA.id}\"></pdb-membership-update-view-group-subgroup>\r\n      `;\r\n    }\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  private getUserId() {\r\n    let memberId = urlQueryParamsGet('member-id');\r\n    // console.log({ memberId });\r\n    let _memberId = memberId !== null ? base64Decode(memberId) : null;\r\n    this.memberId = Number.isNaN(_memberId) ? null : Number(_memberId);\r\n    // console.log({ \"this.memberId\": this.memberId });\r\n  }\r\n\r\n  private async getMember() {\r\n    let branchId = 0;\r\n    if (this._activeBranchId !== null) {\r\n      branchId = this._activeBranchId[0].id;\r\n    }\r\n    const _networkResponse = await GET_MembershipUsers<any>(this.memberId, \"?branchId=\" + branchId, true);\r\n    if (_networkResponse === null) {\r\n      this.pdbBranchMember = undefined;\r\n    } else {\r\n      this.pdbBranchMember = _networkResponse.response;\r\n      // console.log({\"this.pdbBranchMember\": this.pdbBranchMember})\r\n    }\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n"],"names":["root","factory","exports","module","define","amd","self","GET_MembershipUsers","ID","url_params","withLocation","raw_url","CONSTANTS","location_url","_get_cookie","getUserLoginInfoCookie","url","HTTP","http","method","headers","Authorization","token","NetWorkCallResponses","error","console","errorHttp","PdbMembershipUpdateGroupSubgroup","LitElement","constructor","super","memberId","_activeBranchId","_pdbBranchMember","_userLoginInfo","_hasSetup","pdbBranchMember","value","this","requestUpdate","connectedCallback","AppSetup","then","activeBranchId","getActiveBranchIdCookie","getUserId","Number","isNaN","getMember","disconnectedCallback","render","getAppSettingsExtraSettings","expiration_date","expired","html","AppSettingsExtraUserAccess","pageId","PAGE__IDS","viewType","header","content","undefined","success","_data","data","DATA","JSON","stringify","Array","isArray","id","firstUpdated","urlQueryParamsGet","_memberId","base64Decode","branchId","_networkResponse","response","createRenderRoot","styles","css","property","type","Boolean","customElement"],"sourceRoot":""}