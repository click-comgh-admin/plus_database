{"version":3,"file":"../../production_public/assets/v2/prod-files/js/2091.js","mappings":"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","sources":["webpack://webpackNumbers/./src/addons/network/clients/users/page_access/index.ts","webpack://webpackNumbers/./src/view/admin/user/access_card/tooltip.ts","webpack://webpackNumbers/./src/view/admin/user/access_card/inputs.ts","webpack://webpackNumbers/./src/view/admin/user/access_card/section.ts","webpack://webpackNumbers/./src/view/admin/user/access_card/index.ts"],"sourcesContent":["import { CONSTANTS } from \"@@addons/constants\";\r\nimport { http } from \"@@addons/functions/https/http\";\r\nimport { NetWorkCallResponses } from \"@@addons/classes/network_calls/response\";\r\nimport { getUserLoginInfoCookie } from \"@@addons/functions/login\";\r\n\r\nexport async function GET_ClientPageAccess<Type>(ID: Number = null, url_params: string = \"\") {\r\n  const _get_cookie = getUserLoginInfoCookie();\r\n  // console.log({_get_cookie});\r\n  \r\n  const url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'clients/user-access/pages'\r\n    + (ID === null ? \"\" : \"/\" + ID) + (url_params),\r\n    HTTP = await http(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Token \" + _get_cookie.token\r\n      }\r\n    }, true);\r\n  try {\r\n    return new NetWorkCallResponses<Type>(\"get\", HTTP);\r\n  } catch (error) {\r\n    console.error({ error });\r\n    let errorHttp = HTTP;\r\n    errorHttp['error'] = error;\r\n    return new NetWorkCallResponses<Type>(\"get\", errorHttp, true);\r\n  }\r\n}","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js'\r\nimport '@material/mwc-icon'\r\n\r\n\r\n@customElement(\"client-user-access-card-section-tooltip\")\r\nexport class ClientUserAccessCardSectionTooltip extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: String })\r\n  public content: string = \"-\";\r\n\r\n  @property({ type: String })\r\n  private toolTipShowingClass: string = \"invisible opacity-0\";\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"mx-2 relative\">\r\n        <div class=\"w-[fit-content]\">\r\n          <button type=\"button\" @mouseenter=\"${this.hoverInTooltip}\" @mouseleave=\"${this.hoverOutTooltip}\">\r\n            <mwc-icon>info</mwc-icon>\r\n          </button>\r\n        </div>\r\n        <div tabindex=\"-1\"\r\n          class=\"absolute bottom-9 left-[-7rem] w-[19rem] z-10 inline-block rounded-lg py-2 px-3 text-sm font-medium shadow-sm transition-opacity duration-300 ${this.toolTipShowingClass} flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800 flex-col\"\r\n          role=\"tooltip\">\r\n          <div class=\"relative z-20 w-full whitespace-pre-wrap\">${this.content}</div>\r\n          <div class=\"absolute z-10 h-2 w-2 rotate-45 bg-gray-900 dark:bg-gray-700\" style=\"bottom: -4px; left: 120px;\">&nbsp;\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private hoverInTooltip(e: Event) {\r\n    // console.log({\"hoverInTooltip-e\": e});\r\n    this.toolTipShowingClass = \"\";\r\n  }\r\n\r\n  private hoverOutTooltip(e: Event) {\r\n    // console.log({\"hoverOutTooltip-e\": e});\r\n    this.toolTipShowingClass = \"invisible opacity-0\";\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js'\r\nimport '@material/mwc-icon'\r\nimport { ClientPageAccessModel } from '@@addons/interfaces/clients/users/page_access';\r\nimport { ASES_isUnlimited } from '@@addons/functions/app_settings/extra_settings/user_access';\r\nimport { ClientUserPageAccessModel, IsUnlimited } from '@@addons/interfaces/clients/users/page_access/user_access';\r\n\r\n\r\ntype isUnlimited = { id: string, name: string }\r\n@customElement(\"client-user-access-card-section-inputs\")\r\nexport class ClientUserAccessCardSectionInputs extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Boolean })\r\n  public isActive: boolean = false;\r\n\r\n  @property({ type: Number })\r\n  public input_index: number = 0;\r\n\r\n  @property({ type: Array })\r\n  public pageAccess: Array<ClientPageAccessModel> = [];\r\n\r\n  @property({ type: Array })\r\n  public user_access?: Array<ClientUserPageAccessModel> = null;\r\n\r\n  @property({ type: Boolean })\r\n  private checked: boolean = false;\r\n\r\n  @property({ type: Boolean })\r\n  private initialCheckValueCalled: boolean = false;\r\n\r\n  private isUnlimited: isUnlimited[] = []\r\n\r\n  private checkedLimitation: IsUnlimited = { id: null, name: \"\" };\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    this.aSES_isUnlimited();\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    // console.log({\"this.user_access\": this.user_access});\r\n    return this.pageAccess.map(access => {\r\n      let access_id: string = \"access_\" + access.moduleId + \"_\" + this.input_index,\r\n        access_name = \"pageId[]\",\r\n        limitation_name = \"limitations[]\";\r\n      if (this.isActive === true) {\r\n        access_id = \"pageId_\" + access.moduleId + \"_\" + this.input_index,\r\n          access_name = \"pageId[]\";\r\n      }\r\n\r\n      this.initialCheckValue(access.id);\r\n\r\n      return html`\r\n        <div class=\"mx-2 relative w-full p-1\">\r\n          ${this.checked ? html`\r\n          <div class=\"block\">\r\n            <input id=\"${access_id}\" name=\"${access_name}\" type=\"checkbox\" value=\"${access.id}\" checked ?disabled=\"${!this.isActive}\"\r\n              @change=\"${this.inputChecking}\"\r\n              class=\"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\" />\r\n          </div>\r\n          <div class=\"block\">\r\n            <select class=\"px-2 border border-gray-200 shadow py-1\" id=\"limitations\" name=\"${limitation_name}\" ?disabled=\"${!this.isActive}\">\r\n              <option value=\"null\">Select Limitation</option>\r\n              ${this.isUnlimited.map(iu => html`<option value=\"${iu.id}\"\r\n                .selected=\"${String(this.checkedLimitation.id) === iu.id}\">${iu.name}</option>`)}\r\n            </select>\r\n          </div>\r\n          `: html`\r\n          <input id=\"${access_id}\" name=\"${access_name}\" type=\"checkbox\" value=\"${access.id}\" @change=\"${this.inputChecking}\" ?disabled=\"${!this.isActive}\"\r\n            class=\"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\" />\r\n          `\r\n        }\r\n        </div>\r\n      `;\r\n    });\r\n  }\r\n\r\n  private aSES_isUnlimited() {\r\n    let items: Array<isUnlimited> = [];\r\n\r\n    for (const key in ASES_isUnlimited) {\r\n      if (Object.prototype.hasOwnProperty.call(ASES_isUnlimited, key)) {\r\n\r\n        if (!isNaN(Number(key))) {\r\n          const element = ASES_isUnlimited[key];\r\n\r\n          const item: isUnlimited = { id: key, name: element };\r\n          if (!items.includes(item)) {\r\n            items.push(item);\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n    // console.log({items});\r\n\r\n    this.isUnlimited = items;\r\n  }\r\n\r\n  private initialCheckValue(pageAccessId: number) {\r\n    if (this.initialCheckValueCalled === false) {\r\n      // console.log({ \"this.user_access\": this.user_access });\r\n\r\n      if (this.user_access !== null) {\r\n        this.user_access.forEach(accessID => {\r\n          if (accessID.pageId.id === pageAccessId) {\r\n            this.checked = true\r\n            this.checkedLimitation = accessID.isUnlimited;\r\n          }\r\n        });\r\n        this.initialCheckValueCalled = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private inputChecking(e: Event) {\r\n    // console.log({ \"inputChecking-e\": e });\r\n\r\n    //@ts-ignore\r\n    const checked: boolean = e.currentTarget.checked;\r\n    // console.log({ checked });\r\n\r\n    this.checked = checked;\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import { ClientPageAccessModel } from '@@addons/interfaces/clients/users/page_access';\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js'\r\nimport '@material/mwc-icon'\r\nimport './tooltip';\r\nimport './inputs';\r\nimport { ClientUserPageAccessModel } from '@@addons/interfaces/clients/users/page_access/user_access';\r\n\r\n\r\n@customElement(\"client-user-access-card-section\")\r\nexport class ClientUserAccessCardSection extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Boolean })\r\n  public isActive: boolean = false;\r\n\r\n  @property({ type: Array })\r\n  public module_access?: Array<ClientPageAccessModel> = null;\r\n\r\n  @property({ type: Array })\r\n  public user_access?: Array<ClientUserPageAccessModel> = null;\r\n\r\n  @property({ type: String })\r\n  private sectionButtonIcon: string = \"arrow_downward\";\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    // console.log({\"this.module_access\": this.module_access});\r\n    // console.log({\"this.sectionButtonIcon\": this.sectionButtonIcon});\r\n    \r\n    \r\n    return html`\r\n      <button class=\"${this.viewButtonClass(false)}\" type=\"button\" @click=\"${this.access_card_section_btn_action}\" access_card_section_btn=\"${this.moduleId}\">\r\n        <h2 class=\"flex justify-between\">\r\n          ${this.moduleName} \r\n          <client-user-access-card-section-tooltip content=\"${this.moduleContent}\"></client-user-access-card-section-tooltip>\r\n        </h2>\r\n        <div section-button-icon=\"${this.moduleId}\"><mwc-icon>${this.sectionButtonIcon}</mwc-icon></div>\r\n      </button>\r\n      <div class=\"p-0 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg border-gray-200 dark:border-gray-700 border-b-2 w-full\" access_card_section_content=\"${this.moduleId}\" hidden=\"\">\r\n        <div class=\"mdc-data-table w-full\" mdc-data-table=\"data-table\">\r\n          <div class=\"mdc-data-table__table-container\">\r\n            <table class=\"mdc-data-table__table\" aria-label=\"New Meeting Member\">\r\n              <thead>\r\n                <tr class=\"mdc-data-table__header-row\">\r\n                  <th class=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                    <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                      <div class=\"mdc-data-table__header-cell-label\">\r\n                        <b>Page(s)</b>\r\n                      </div>\r\n                      <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                    </div>\r\n                  </th>\r\n                  <th class=\"mdc-data-table__header-cell !text-right\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                    <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                      <div class=\"mdc-data-table__header-cell-label\">\r\n                        <mwc-icon>tune</mwc-icon>\r\n                      </div>\r\n                      <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"mdc-data-table__content\">\r\n                ${this.module_access.map((pageAccess, i) => {\r\n                  let access_id: string = \"access_\" + pageAccess.moduleId + \"_\" + i;\r\n                  if (this.isActive === true) {\r\n                    access_id = \"pageId_\" + pageAccess.moduleId + \"_\" + i;\r\n                  }\r\n\r\n                  return html`\r\n                    <tr class=\"mdc-data-table__row\">\r\n                      <th class=\"mdc-data-table__cell\" scope=\"row\">\r\n                        <div class=\"flex items-center\">\r\n                          <label class=\"whitespace-pre-wrap\" for=\"${access_id}\">${pageAccess.page}</label>\r\n                        </div>\r\n                      </th>\r\n                      <td class=\"mdc-data-table__cell mdc-data-table__cell--numeric !py-1\" scope=\"row\">\r\n                        <client-user-access-card-section-inputs ?isActive=\"${this.isActive}\" input_index=\"${i}\" .pageAccess=\"${[pageAccess]}\" .user_access=\"${this.user_access}\"></client-user-access-card-section-inputs>\r\n                      </td>\r\n                    </tr>\r\n                  `;\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n  \r\n  private access_card_section_btn_action(e: Event) {\r\n    e.preventDefault();\r\n    // console.log({e});\r\n    \r\n\r\n    const toggler = {\r\n      activeButton: (button: HTMLButtonElement, moduleID: number) => {\r\n        if (this.moduleId === moduleID) {\r\n          button.className = this.viewButtonClass(true);\r\n          \r\n          button.lastElementChild.innerHTML = `<mwc-icon>arrow_upward</mwc-icon>`;\r\n          // section-button-icon\r\n        }\r\n      },\r\n      inactiveButtons: (button: HTMLButtonElement) => {\r\n        button.className = this.viewButtonClass(false);\r\n        button.lastElementChild.innerHTML = `<mwc-icon>arrow_downward</mwc-icon>`;\r\n      },\r\n      showContent: (moduleID: number) => {\r\n        if (this.moduleId === moduleID) {\r\n          document.querySelectorAll('div[access_card_section_content=\"'+moduleID+'\"]').forEach((div: HTMLDivElement) => {\r\n            div.removeAttribute(\"hidden\");\r\n          });\r\n        }\r\n      },\r\n      hideAllContents: () => {\r\n        document.querySelectorAll('div[access_card_section_content]').forEach((div: HTMLDivElement) => {\r\n          if (!div.hasAttribute('hidden')) {\r\n            div.setAttribute(\"hidden\", \"\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    \r\n    document.querySelectorAll('button[access_card_section_btn]').forEach((button: HTMLButtonElement) => {\r\n      // console.log({button});\r\n      \r\n      const _module_id = button.getAttribute('access_card_section_btn'),\r\n        module_id = Number.isNaN(_module_id) ? -1 : Number(_module_id); // used '-1' instead of '0' for fallback because this.moduleId also fallsback to '0', this way in an unexpected senario they never match...\r\n      \r\n      toggler.inactiveButtons(button);\r\n      toggler.hideAllContents();\r\n\r\n      setTimeout(() => {\r\n        toggler.activeButton(button, module_id);\r\n        toggler.showContent(module_id);\r\n      }, 100);\r\n      \r\n    });\r\n\r\n  }\r\n\r\n  private viewButtonClass(selected: boolean) {\r\n    if (selected) {\r\n      this.sectionButtonIcon = \"arrow_upward\";\r\n      return 'flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-3 px-3 text-left font-medium text-gray-500 hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800 bg-gray-100 dark:bg-gray-800 dark:text-white border-b-2';\r\n    } else {\r\n      this.sectionButtonIcon = \"arrow_downward\";\r\n      return 'flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-3 px-3 text-left font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800 border-b-2';\r\n    }\r\n  }\r\n  \r\n  private get moduleId() { \r\n    if (this.module_access !== null && this.module_access?.length > 0) {\r\n      return this.module_access[0].moduleId;\r\n    }\r\n    return 0;\r\n  }\r\n  \r\n  private get moduleName() { \r\n    if (this.module_access !== null && this.module_access?.length > 0) {\r\n      return this.module_access[0].moduleInfo?.module ?? \"Not Found\";\r\n    }\r\n    return `Not Found!`;\r\n  }\r\n  \r\n  private get moduleContent() { \r\n    if (this.module_access !== null && this.module_access?.length > 0) {\r\n      return this.module_access[0].moduleInfo?.description ?? \"Not Found\";\r\n    }\r\n    return `Not Found!`;\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import { ClientPageAccessModel } from '@@addons/interfaces/clients/users/page_access';\r\nimport { ClientUserPageAccessModel } from '@@addons/interfaces/clients/users/page_access/user_access';\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js'\r\nimport './section';\r\n\r\nexport type ModuleAccess = {\r\n  [moduleID: string]: Array<ClientPageAccessModel>\r\n}\r\n@customElement(\"client-user-access-card\")\r\nexport class ClientUserAccessCard extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Boolean })\r\n  public isActive: boolean = false;\r\n\r\n  @property({ type: Array })\r\n  public available_access: Array<ClientPageAccessModel> = [];\r\n\r\n  @property({ type: Array })\r\n  public user_access?: Array<ClientUserPageAccessModel> = null;\r\n\r\n  private module_access: ModuleAccess = {};\r\n\r\n  @property({ type: Boolean })\r\n  private grouped: boolean = false;\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    // console.log({\"--this.available_access--\": this.available_access});\r\n\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n\r\n    // console.log({ \"-this.available_access-\": this.available_access });\r\n    \r\n    if (this.available_access.length > 0) {\r\n      this.group_by_modules();\r\n    }\r\n\r\n    let access_card_sections = html``;\r\n    for (const key in this.module_access) {\r\n      if (Object.prototype.hasOwnProperty.call(this.module_access, key)) {\r\n        const element = this.module_access[key];\r\n        // console.log({ \"-element.element-\": element });\r\n        access_card_sections = html`${access_card_sections}\r\n          <client-user-access-card-section ?isActive=\"${this.isActive}\" .module_access=\"${element}\" .user_access=\"${this.user_access}\"></client-user-access-card-section>\r\n        `;\r\n      }\r\n    }\r\n    return html`\r\n      <div class=\"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700 rounded-lg\">\r\n        ${access_card_sections}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private group_by_modules() {\r\n    // console.log({ \"this.available_access\": this.available_access });\r\n    \r\n    if (!this.grouped) {\r\n      this.available_access.forEach(access => {\r\n        const KEY = String(access.moduleId);\r\n  \r\n        if (!(KEY in this.module_access)) {\r\n          this.module_access[KEY] = [];\r\n        }\r\n  \r\n        this.module_access[KEY].push(access);\r\n      });\r\n      // console.log({\"this.module_access\": this.module_access});\r\n      \r\n      this.grouped = true;\r\n    }\r\n    \r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n"],"names":["GET_ClientPageAccess","ID","url_params","_get_cookie","url","HTTP","method","headers","Authorization","token","error","console","errorHttp","ClientUserAccessCardSectionTooltip","constructor","super","content","toolTipShowingClass","connectedCallback","disconnectedCallback","render","this","hoverInTooltip","hoverOutTooltip","e","firstUpdated","createRenderRoot","styles","type","String","ClientUserAccessCardSectionInputs","isActive","input_index","pageAccess","user_access","checked","initialCheckValueCalled","isUnlimited","checkedLimitation","id","name","aSES_isUnlimited","map","access","access_id","moduleId","access_name","initialCheckValue","inputChecking","iu","items","key","Object","prototype","hasOwnProperty","call","isNaN","Number","item","includes","push","pageAccessId","forEach","accessID","pageId","currentTarget","Boolean","Array","ClientUserAccessCardSection","module_access","sectionButtonIcon","viewButtonClass","access_card_section_btn_action","moduleName","moduleContent","i","page","preventDefault","toggler","button","moduleID","className","lastElementChild","innerHTML","document","querySelectorAll","div","removeAttribute","_module_id","getAttribute","module_id","hasAttribute","setAttribute","setTimeout","selected","length","moduleInfo","module","description","ClientUserAccessCard","available_access","grouped","group_by_modules","access_card_sections","element","KEY"],"sourceRoot":""}