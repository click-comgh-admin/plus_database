/*! For license information please see 517.js.LICENSE.txt */
"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([[517],{6951:(e,t,n)=>{n.d(t,{F:()=>o});const o=(e,t)=>(new Date,new Date(`${e}`).toLocaleString("en-US",t))},101:(e,t,n)=>{n.d(t,{ND:()=>s,X_:()=>l});var o=n(2578),i=n(1551),c=n(8530),r=n(7477);const s=e=>"organizationName"in e&&"organizationType"in e&&"businessRegistered"in e&&"organizationPhone"in e&&"dateOfIncorporation"in e;function a(e,t){let n=null;return n=1===t?(0,i.Z)(e.memberInfo):c.e.toMembershipOrganizationUserModel(JSON.stringify(e.memberInfo)),{id:Number(e.id),memberId:Number(e.memberId),memberInfo:n,phone:String(e.phone),email:String(e.email),facebook:String(e.facebook),instagram:String(e.instagram),placeOfWork:String(e.placeOfWork),profession:String(e.profession),twitter:String(e.twitter),whatsapp:String(e.whatsapp),businessHashtag:String(e.businessHashtag),businessDescription:String(e.businessDescription),dateJoined:(0,o.G)(e.dateJoined),date:(0,o.G)(e.date)}}function l(e){const t=(0,r.e)(e.attendance);return{attendance:t,additionalInfo:a(e.additionalInfo,t.accountType),lastSeen:(0,o.G)(e.lastSeen),status:String(e.status)}}},7933:(e,t,n)=>{var o=n(7477),i=n(101),c=(n(8281),n(9392)),r=n(1936),s=n(7052),a=function(e,t,n,o){var i,c=arguments.length,r=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(c<3?i(r):c>3?i(t,n,r):i(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends c.oi{constructor(){super(),this.clockingMethodName="???",this._memberData=null,this.memberProfileBaseUrl="/member/member-profile?view="}set memberData(e){this._memberData=e,this.requestUpdate()}get memberData(){return this._memberData}connectedCallback(){super.connectedCallback()}disconnectedCallback(){}render(){const e=(0,s.h)(String(this._memberData.id),!0);return c.dy`<div class="flex flex-col whitespace-normal justify-between content-between">
        <div class="d-block m-1">
          <span class="badge badge-info shadow-lg p-2 m-1">
            ${this.clockingMethodName}
          </span>
        </div>
        <div class="flex m-1 justify-evenly">
          <user-profile-photo class="w-32 h-32 mr-1" rounded 'click-to-open'=""
            click-to-open="${this.memberProfileBaseUrl}${e}" type="member"
            url="${this._memberData.profilePicture}" size="32"></user-profile-photo>
        </div>
        <div class="block m-1">
          <span class="shadow p-1 block bg-white rounded text-dark">
            <b>Name</b>: ${this._memberData.firstname} ${this._memberData.middlename} ${this._memberData.surname}
          </span>
        </div>
      </div>`}firstUpdated(){}createRenderRoot(){return this}};d.styles=[c.iv`
   :host { display: block; }
  `],a([(0,r.Cb)({type:String}),l("design:type",String)],d.prototype,"clockingMethodName",void 0),a([(0,r.Cb)({type:String}),l("design:type",String)],d.prototype,"memberProfileBaseUrl",void 0),d=a([(0,r.Mo)("clocker-table-parts-first-individual"),l("design:paramtypes",[])],d);var u=function(e,t,n,o){var i,c=arguments.length,r=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(c<3?i(r):c>3?i(t,n,r):i(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let h=class extends c.oi{constructor(){super(),this.clockingMethodName="???",this._memberData=null}set memberData(e){this._memberData=e,this.requestUpdate()}get memberData(){return this._memberData}connectedCallback(){super.connectedCallback()}disconnectedCallback(){}render(){return(0,s.h)(String(this._memberData.id),!0),c.dy`<div class="flex flex-col whitespace-normal justify-between content-between">
        <div class="d-block m-1">
          <span class="badge badge-info shadow-lg p-2 m-1">
            ${this.clockingMethodName}
          </span>
        </div>
        <div class="flex m-1 justify-evenly">
          <user-profile-photo class="w-32 h-32 mr-1" rounded type="member"
            url="${this._memberData.logo}" size="32"></user-profile-photo>
        </div>
        <div class="block m-1">
          <span class="shadow p-1 block bg-white rounded text-dark">
            <b>Name</b>: ${this._memberData.organizationName}
          </span>
        </div>
      </div>`}firstUpdated(){}createRenderRoot(){return this}};h.styles=[c.iv`
   :host { display: block; }
  `],u([(0,r.Cb)({type:String}),f("design:type",String)],h.prototype,"clockingMethodName",void 0),h=u([(0,r.Mo)("clocker-table-parts-first-organization"),f("design:paramtypes",[])],h);var p=function(e,t,n,o){var i,c=arguments.length,r=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(c<3?i(r):c>3?i(t,n,r):i(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},g=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let m=class extends c.oi{constructor(){super(),this._data=null,this._type=null,this.clockingInfo=null,this.fullInfo=!1,this.clocking_info="",this.memberProfileBaseUrl="/member/member-profile?view="}set data(e){this._data=e,this.requestUpdate()}get data(){return this._data}set type(e){this._type=e,this.requestUpdate()}get type(){return this._type}connectedCallback(){super.connectedCallback();const e=JSON.parse(this.clocking_info);null!==e&&("attendance"in e&&"additionalInfo"in e&&"lastSeen"in e&&"status"in e?(this.fullInfo=!0,this.clockingInfo=(0,i.X_)(e)):(this.fullInfo=!1,this.clockingInfo=(0,o.e)(e)))}disconnectedCallback(){}get getClockingInfo(){return this.clockingInfo}get getClockingInfoFull(){return this.clockingInfo}render(){const e=this.fullInfo,t=this.getClockingInfo,n=this.getClockingInfoFull;if(null!==t&&null!==n){const o=e?n.attendance.clockingMethodName:t.clockingMethodName;return(e?(0,i.ND)(n.additionalInfo.memberInfo):(0,i.ND)(t.memberId))?c.dy`<clocker-table-parts-first-organization clockingMethodName="${o}" .memberData=${e?n.additionalInfo.memberInfo:t.memberId}></clocker-table-parts-first-organization>`:c.dy`<clocker-table-parts-first-individual clockingMethodName="${o}" .memberData=${e?n.additionalInfo.memberInfo:t.memberId}></clocker-table-parts-first-individual>`}return null}firstUpdated(){}createRenderRoot(){return this}};m.styles=[c.iv`
   :host { display: block; }
  `],p([(0,r.Cb)({type:Boolean}),g("design:type",Boolean)],m.prototype,"fullInfo",void 0),p([(0,r.Cb)({type:String}),g("design:type",String)],m.prototype,"clocking_info",void 0),p([(0,r.Cb)({type:String}),g("design:type",String)],m.prototype,"memberProfileBaseUrl",void 0),m=p([(0,r.Mo)("clocker-table-parts-first"),g("design:paramtypes",[])],m)},9987:(e,t,n)=>{n.d(t,{GJ:()=>_,Y8:()=>C});var o=n(6951),i=n(7477),c=n(101),r=n(6455),s=n.n(r),a=n(771),l=n(7270),d=n(596),u=n(8967),f=n(3600),h=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))};function p(e,t=null){return h(this,void 0,void 0,(function*(){const n=(0,f.Ie)(),o=a.t.URLS.AKWAABA_API_BASE_URL+"attendance/meeting-event/attendance/clock-in/"+e,i=null===t?{}:{time:t};return s().fire({title:"Clock In?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>h(this,void 0,void 0,(function*(){return yield(0,l.d)(o,{method:"PATCH",body:JSON.stringify(i),headers:{Authorization:"Token "+n.token}},!0).then((e=>{const t=new d.H("patch",e,!1),n=t.response;if("nameError"in n&&"unknownError"in n&&n.unknownError.length>0){let e=[];n.unknownError.forEach((t=>{t.errors.forEach((n=>{let o={error:t.id+": "+n};"non_field_errors"===t.id&&(o={error:n}),e.push(o)}))}));const t=(0,u.T)(e);s().showValidationMessage(`${t}`)}return t})).catch((e=>{s().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!s().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success";const n=e.value;if(n instanceof Object&&null!==n.response){const e=n.response;t=String(e.message)}n instanceof Object&&null!==n.response&&(s().fire({title:t,icon:"success",iconColor:"#f97817",confirmButtonColor:"#f97817"}),setTimeout((()=>{window.location.reload()}),500))}}))}))}var g=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))};function m(e,t=null){return g(this,void 0,void 0,(function*(){const n=(0,f.Ie)(),o=a.t.URLS.AKWAABA_API_BASE_URL+"attendance/meeting-event/attendance/start-break/"+e,i=null===t?{}:{time:t};return s().fire({title:"Start Break?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>g(this,void 0,void 0,(function*(){return yield(0,l.d)(o,{method:"PATCH",body:JSON.stringify(i),headers:{Authorization:"Token "+n.token}},!0).then((e=>{const t=new d.H("patch",e,!1),n=t.response;if("nameError"in n&&"unknownError"in n&&n.unknownError.length>0){let e=[];n.unknownError.forEach((t=>{t.errors.forEach((n=>{let o={error:t.id+": "+n};"non_field_errors"===t.id&&(o={error:n}),e.push(o)}))}));const t=(0,u.T)(e);s().showValidationMessage(`${t}`)}return t})).catch((e=>{s().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!s().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success";const n=e.value;if(n instanceof Object&&null!==n.response){const e=n.response;t=String(e.message)}n instanceof Object&&null!==n.response&&(s().fire({title:t,icon:"success",iconColor:"#f97817",confirmButtonColor:"#f97817"}),setTimeout((()=>{window.location.reload()}),500))}}))}))}var b=n(9392),k=n(1936),y=(n(934),function(e,t,n,o){var i,c=arguments.length,r=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(c<3?i(r):c>3?i(t,n,r):i(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r}),v=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))};const C=(e,t)=>{window.clocker={clockingTimeInfo:{clockingTime:e,clockingTimeValue:t}}},_=()=>{if("clocker"in window){const e=window.clocker.clockingTimeInfo;if("clockingTime"in e)return{clockingTime:e.clockingTime,clockingTimeValue:e.clockingTimeValue}}return null};let $=class extends b.oi{constructor(){super(),this._data=null,this._type=null,this.clockingTimeValue="",this.clocking=!1,this.clockingTime=!1,this.clockingInfo=null,this.fullInfo=!1,this.clocking_info="",this.pageButtonAccess=!1}set data(e){this._data=e,this.requestUpdate()}get data(){return this._data}set type(e){this._type=e,this.requestUpdate()}get type(){return this._type}connectedCallback(){super.connectedCallback(),console.log({"this.pageButtonAccess":this.pageButtonAccess});const e=JSON.parse(this.clocking_info);null!==e&&("attendance"in e&&"additionalInfo"in e&&"lastSeen"in e&&"status"in e?(this.fullInfo=!0,this.clockingInfo=(0,c.X_)(e)):(this.fullInfo=!1,this.clockingInfo=(0,i.e)(e)))}disconnectedCallback(){}get getClockingInfo(){return this.clockingInfo}get getClockingInfoFull(){return this.clockingInfo}render(){const e=this.fullInfo,t=this.getClockingInfo,n=this.getClockingInfoFull;if(null!==t&&null!==n){const i=(0,o.F)(e?n.attendance.date:t.date,{dateStyle:"medium",timeStyle:"short"}),c=e?n.attendance.inTime:t.inTime,r=null!==c?(0,o.F)(c,{dateStyle:"medium",timeStyle:"short"}):"--:--",s=e?n.attendance.id:t.id,a=e?n.attendance.inOrOut:t.inOrOut,l=e?n.attendance.startBreak:t.startBreak,d=null!==l?(0,o.F)(l,{dateStyle:"medium",timeStyle:"short"}):"--:--",u=new Date,f=e?n.attendance.meetingEventId.hasBreakTime:t.meetingEventId.hasBreakTime,h=(e?n.attendance.date.toDateString():t.date.toDateString())===u.toDateString();return b.dy`
        <div class="shadow bg-white p-2 text-center whitespace-nowrap">
          <div class="flex justify-between">
            ${this.clocking?b.dy`
            <input type="checkbox" multi-break-check-in="${s}" name="member_check_in_${s}"
              id="member_check_in_${s}"
              class="m-1 rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
            `:b.Ld}
            <label for="member_check_in_${s}">@ ${i}</label>
          </div>
        </div>
        ${this.clocking?b.dy`
        <div class="text-center whitespace-nowrap">
          <button type="button" class="btn btn-transparent btn-sm shadow p-0" clock-id="${s}" clock-user="in">
            <span class="pe-7s-check bg-happy-itmeo fa-5x icon-gradient"></span>
          </button>
        </div>
        <div class="text-center flex justify-center whitespace-nowrap">
          <span class="badge badge-success mx-1">${h?b.dy`Today`:b.dy`Post Clocking`}</span>
          ${a?b.dy`
          <span class="badge badge-success bg-grow-early mx-1">Present</span>`:b.dy`
          <span class="badge badge-danger mx-1">Not Clocked</span>
          `}
        </div>
        `:b.dy`
          <div class="text-center flex justify-evenly whitespace-nowrap">
            <a href="tel://${n.additionalInfo.phone}">
              <mwc-icon-button class="bg-sunny-morning text-white" icon="call"></mwc-icon-button>
            </a>
            <a href="https://api.whatsapp.com/send?phone=+${n.additionalInfo.whatsapp}&amp;text=">
              <mwc-icon-button class="bg-grow-early text-white" icon="whatsapp"></mwc-icon-button>
            </a>
          </div>
        `}
        ${a&&null!==c?b.dy`
        <div class="text-center whitespace-nowrap">
          <span class="badge badge-light shadow p-2 m-1">
            <b>Clock in Time</b>: ${r}
          </span>
        </div>`:""}
        ${this.clocking?b.dy`
          ${f?b.dy`
          <hr class="whitespace-nowrap">
          <div class="text-center whitespace-nowrap">
            <mwc-button raised class="shadow-sm success button" label="Start Break" clock-id="${s}" user-break="start"
              icon="check">
            </mwc-button>
          </div>
          `:""}
        `:b.Ld}
        ${null!==l?b.dy`
        <div class="text-center whitespace-nowrap">
          <span class="badge badge-light shadow p-2 m-1">
            <b>Break Start Time</b>: ${d}
          </span>
        </div>`:""}
      `}return null}firstUpdated(){this.clockUser(),this.userBreak(),setInterval((()=>{const e=_();null!==e&&(this.clockingTime=e.clockingTime,this.clockingTimeValue=e.clockingTimeValue)}))}clockUser(){const e="clock-user";document.querySelectorAll("["+e+"]").forEach((t=>{"in"===t.getAttribute(e)&&t.addEventListener("click",(e=>{this.clockInUser(t,e)}))}))}clockInUser(e,t){return w(this,void 0,void 0,(function*(){if(t.preventDefault(),this.pageButtonAccess){const t=Number(e.getAttribute("clock-id"));this.clockingTime?yield p(t,this.clockingTimeValue):yield p(t)}}))}userBreak(){const e="user-break";document.querySelectorAll("["+e+"]").forEach((t=>{"start"===t.getAttribute(e)&&t.addEventListener("click",(e=>{this.startUserBreak(t,e)}))}))}startUserBreak(e,t){return w(this,void 0,void 0,(function*(){if(t.preventDefault(),this.pageButtonAccess){const t=Number(e.getAttribute("clock-id"));this.clockingTime?yield m(t,this.clockingTimeValue):yield m(t)}}))}createRenderRoot(){return this}};$.styles=[b.iv`
   :host { display: block; }
  `],y([(0,k.Cb)({type:String}),v("design:type",String)],$.prototype,"clockingTimeValue",void 0),y([(0,k.Cb)({type:Boolean}),v("design:type",Boolean)],$.prototype,"clocking",void 0),y([(0,k.Cb)({type:Boolean}),v("design:type",Boolean)],$.prototype,"clockingTime",void 0),y([(0,k.Cb)({type:Boolean}),v("design:type",Boolean)],$.prototype,"fullInfo",void 0),y([(0,k.Cb)({type:String}),v("design:type",String)],$.prototype,"clocking_info",void 0),y([(0,k.Cb)({type:Boolean}),v("design:type",Boolean)],$.prototype,"pageButtonAccess",void 0),$=y([(0,k.Mo)("clocker-table-parts-second"),v("design:paramtypes",[])],$)},5647:(e,t,n)=>{var o=n(7052),i=n(6951),c=n(7477),r=n(101),s=n(6455),a=n.n(s),l=n(771),d=n(7270),u=n(596),f=n(8967),h=n(3600),p=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))},g=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))};function m(e,t=null){return g(this,void 0,void 0,(function*(){const n=(0,h.Ie)(),o=l.t.URLS.AKWAABA_API_BASE_URL+"attendance/meeting-event/attendance/clock-out/"+e,i=null===t?{}:{time:t};return a().fire({title:"Clock Out?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>g(this,void 0,void 0,(function*(){return yield(0,d.d)(o,{method:"PATCH",body:JSON.stringify(i),headers:{Authorization:"Token "+n.token}},!0).then((e=>{const t=new u.H("patch",e,!1),n=t.response;if("nameError"in n&&"unknownError"in n&&n.unknownError.length>0){let e=[];n.unknownError.forEach((t=>{t.errors.forEach((n=>{let o={error:t.id+": "+n};"non_field_errors"===t.id&&(o={error:n}),e.push(o)}))}));const t=(0,f.T)(e);a().showValidationMessage(`${t}`)}return t})).catch((e=>{a().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!a().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success";const n=e.value;if(n instanceof Object&&null!==n.response){const e=n.response;t=String(e.message)}n instanceof Object&&null!==n.response&&(a().fire({title:t,icon:"success",iconColor:"#f97817",confirmButtonColor:"#f97817"}),setTimeout((()=>{window.location.reload()}),500))}}))}))}var b=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))};function k(e,t=null){return b(this,void 0,void 0,(function*(){const n=(0,h.Ie)(),o=l.t.URLS.AKWAABA_API_BASE_URL+"attendance/meeting-event/attendance/end-break/"+e,i=null===t?{}:{time:t};return a().fire({title:"End Break?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>b(this,void 0,void 0,(function*(){return yield(0,d.d)(o,{method:"PATCH",body:JSON.stringify(i),headers:{Authorization:"Token "+n.token}},!0).then((e=>{const t=new u.H("patch",e,!1),n=t.response;if("nameError"in n&&"unknownError"in n&&n.unknownError.length>0){let e=[];n.unknownError.forEach((t=>{t.errors.forEach((n=>{let o={error:t.id+": "+n};"non_field_errors"===t.id&&(o={error:n}),e.push(o)}))}));const t=(0,f.T)(e);a().showValidationMessage(`${t}`)}return t})).catch((e=>{a().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!a().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success";const n=e.value;if(n instanceof Object&&null!==n.response){const e=n.response;t=String(e.message)}n instanceof Object&&null!==n.response&&(a().fire({title:t,icon:"success",iconColor:"#f97817",confirmButtonColor:"#f97817"}),setTimeout((()=>{window.location.reload()}),500))}}))}))}var y=n(9392),v=n(1936),w=n(9987),C=function(e,t,n,o){var i,c=arguments.length,r=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(c<3?i(r):c>3?i(t,n,r):i(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},_=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$=function(e,t,n,o){return new(n||(n=Promise))((function(i,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function s(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((o=o.apply(e,t||[])).next())}))};let B=class extends y.oi{constructor(){super(),this._data=null,this._type=null,this.clockingInfo=null,this.fullInfo=!1,this.clocking_info="",this.clocking=!1,this.clockingTimeValue="",this.clockingTime=!1,this.excuseBaseUrl="/attendance/v2/clocking/excuse?clocking-id=",this.followUpBaseUrl="/attendance/v2/clocking/follow-up?clocking-id=",this.pageButtonAccess=!1}set data(e){this._data=e,this.requestUpdate()}get data(){return this._data}set type(e){this._type=e,this.requestUpdate()}get type(){return this._type}connectedCallback(){super.connectedCallback();const e=JSON.parse(this.clocking_info);null!==e&&("attendance"in e&&"additionalInfo"in e&&"lastSeen"in e&&"status"in e?(this.fullInfo=!0,this.clockingInfo=(0,r.X_)(e)):(this.fullInfo=!1,this.clockingInfo=(0,c.e)(e)))}disconnectedCallback(){}get getClockingInfo(){return this.clockingInfo}get getClockingInfoFull(){return this.clockingInfo}render(){const e=this.fullInfo,t=this.getClockingInfo,n=this.getClockingInfoFull;if(null!==t&&null!==n){const c=(0,i.F)(e?n.attendance.date:t.date,{dateStyle:"medium",timeStyle:"short"}),r=e?n.attendance.outTime:t.outTime,s=null!==r?(0,i.F)(r,{dateStyle:"medium",timeStyle:"short"}):"--:--",a=e?n.attendance.id:t.id,l=e?n.attendance.inOrOut:t.inOrOut,d=e?n.attendance.endBreak:t.endBreak,u=null!==d?(0,i.F)(d,{dateStyle:"medium",timeStyle:"short"}):"--:--",f=e?n.attendance.meetingEventId.hasBreakTime:t.meetingEventId.hasBreakTime,h=(0,o.h)(String(a),!0);return y.dy`
        <div class="shadow bg-white p-2 text-center whitespace-nowrap">
          <div class="flex justify-between">
            ${this.clocking?y.dy`
            <input type="checkbox" multi-break-check-out="${a}" name="member_check_out_${a}"
              id="member_check_out_${a}"
              class="m-1 rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
            `:y.Ld}
            <label for="member_check_out_${a}">@ ${c}</label>
          </div>
        </div>
        ${this.clocking?y.dy`
        <div class="text-center whitespace-nowrap">
          <button type="button" class="btn btn-transparent btn-sm shadow p-0 mx-1" clock-id="${a}" clock-user="out">
            <span class="pe-7s-check bg-happy-itmeo fa-5x icon-gradient"></span>
          </button>
          <button type="button" class="btn btn-transparent btn-sm shadow p-0 mx-1" clock-id="${a}"
            cancel-user-clock="true">
            <span class="pe-7s-close-circle bg-love-kiss fa-5x icon-gradient"></span>
          </button>
        </div>
        <div class="text-center flex justify-center whitespace-nowrap">
          <span class="badge badge-warning">'X' to Cancel Attendance</span>
        </div>
        `:y.Ld}
        <div class="text-center whitespace-nowrap">
          <a href="${this.excuseBaseUrl}${h}" class="btn btn-info btn-sm" target="_blank" type="button">Enter/ View
            Excuse</a>
          <a href="${this.followUpBaseUrl}${h}" class="btn btn-primary btn-sm" target="_blank" type="button">Follow-Up</a>
        </div>
        ${l&&null!==r?y.dy`
        <div class="text-center whitespace-nowrap">
          <span class="badge badge-light shadow p-2 m-1">
            <b>Clock out Time</b>: ${s}
          </span>
        </div>`:""}
        ${this.clocking?y.dy`
        ${f?y.dy`
        <hr class="whitespace-nowrap">
        <div class="text-center whitespace-nowrap">
          <mwc-button raised class="shadow-sm info button" label="End Break" clock-id="${a}" user-break="end"
            icon="close">
          </mwc-button>
        </div>
        `:""}
        `:y.Ld}
        ${null!==d?y.dy`
        <div class="text-center">
          <span class="badge badge-light shadow p-2 m-1">
            <b>Break End Time</b>: ${u}
          </span>
        </div>`:""}
      `}return null}firstUpdated(){this.clockUser(),this.userBreak(),this.cancelClocking(),setInterval((()=>{const e=(0,w.GJ)();null!==e&&(this.clockingTime=e.clockingTime,this.clockingTimeValue=e.clockingTimeValue)}))}cancelClocking(){document.querySelectorAll('[cancel-user-clock="true"]').forEach((e=>{e.addEventListener("click",(t=>$(this,void 0,void 0,(function*(){if(t.preventDefault(),this.pageButtonAccess){const t=Number(e.getAttribute("clock-id"));yield function(e){return p(this,void 0,void 0,(function*(){const t=(0,h.Ie)(),n=l.t.URLS.AKWAABA_API_BASE_URL+"attendance/meeting-event/attendance/cancel-clocking/"+e,o={};return a().fire({title:"Cancel Clocking?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>p(this,void 0,void 0,(function*(){return yield(0,d.d)(n,{method:"PATCH",body:JSON.stringify(o),headers:{Authorization:"Token "+t.token}},!0).then((e=>{const t=new u.H("patch",e,!1),n=t.response;if("nameError"in n&&"unknownError"in n&&n.unknownError.length>0){let e=[];n.unknownError.forEach((t=>{t.errors.forEach((n=>{let o={error:t.id+": "+n};"non_field_errors"===t.id&&(o={error:n}),e.push(o)}))}));const t=(0,f.T)(e);a().showValidationMessage(`${t}`)}return t})).catch((e=>{a().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!a().isLoading()}).then((e=>{if(e.isConfirmed){let t="Success";const n=e.value;if(n instanceof Object&&null!==n.response){const e=n.response;t=String(e.message)}n instanceof Object&&null!==n.response&&(a().fire({title:t,icon:"success",iconColor:"#f97817",confirmButtonColor:"#f97817"}),setTimeout((()=>{window.location.reload()}),500))}}))}))}(t)}}))))}))}clockUser(){const e="clock-user";document.querySelectorAll("["+e+"]").forEach((t=>{"out"===t.getAttribute(e)&&t.addEventListener("click",(e=>{this.clockOutUser(t,e)}))}))}clockOutUser(e,t){return $(this,void 0,void 0,(function*(){if(t.preventDefault(),this.pageButtonAccess){const t=Number(e.getAttribute("clock-id"));this.clockingTime?yield m(t,this.clockingTimeValue):yield m(t)}}))}userBreak(){const e="user-break";document.querySelectorAll("["+e+"]").forEach((t=>{"end"===t.getAttribute(e)&&t.addEventListener("click",(e=>{this.endUserBreak(t,e)}))}))}endUserBreak(e,t){return $(this,void 0,void 0,(function*(){if(t.preventDefault(),this.pageButtonAccess){const n=Number(e.getAttribute("clock-id"));console.log({e:t,element:e,CLOCK_ID:n}),this.clockingTime?yield k(n,this.clockingTimeValue):yield k(n)}}))}createRenderRoot(){return this}};B.styles=[y.iv`
   :host { display: block; }
  `],C([(0,v.Cb)({type:Boolean}),_("design:type",Boolean)],B.prototype,"fullInfo",void 0),C([(0,v.Cb)({type:String}),_("design:type",String)],B.prototype,"clocking_info",void 0),C([(0,v.Cb)({type:Boolean}),_("design:type",Boolean)],B.prototype,"clocking",void 0),C([(0,v.Cb)({type:String}),_("design:type",String)],B.prototype,"clockingTimeValue",void 0),C([(0,v.Cb)({type:Boolean}),_("design:type",Boolean)],B.prototype,"clockingTime",void 0),C([(0,v.Cb)({type:String}),_("design:type",String)],B.prototype,"excuseBaseUrl",void 0),C([(0,v.Cb)({type:String}),_("design:type",String)],B.prototype,"followUpBaseUrl",void 0),C([(0,v.Cb)({type:Boolean}),_("design:type",Boolean)],B.prototype,"pageButtonAccess",void 0),B=C([(0,v.Mo)("clocker-table-parts-third"),_("design:paramtypes",[])],B)},5458:(e,t,n)=>{n.d(t,{C:()=>m});var o=n(3692),i=n(4232),c=n(875);const r=(e,t)=>{var n,o;const i=e._$AN;if(void 0===i)return!1;for(const e of i)null===(o=(n=e)._$AO)||void 0===o||o.call(n,t,!1),r(e,t);return!0},s=e=>{let t,n;do{if(void 0===(t=e._$AM))break;n=t._$AN,n.delete(e),e=t}while(0===(null==n?void 0:n.size))},a=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),u(t)}};function l(e){void 0!==this._$AN?(s(this),this._$AM=e,a(this)):this._$AM=e}function d(e,t=!1,n=0){const o=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(o))for(let e=n;e<o.length;e++)r(o[e],!1),s(o[e]);else null!=o&&(r(o,!1),s(o));else r(this,e)}const u=e=>{var t,n,o,i;e.type==c.pX.CHILD&&(null!==(t=(o=e)._$AP)&&void 0!==t||(o._$AP=d),null!==(n=(i=e)._$AQ)&&void 0!==n||(i._$AQ=l))};class f extends c.Xe{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),a(this),this.isConnected=e._$AU}_$AO(e,t=!0){var n,o;e!==this.isConnected&&(this.isConnected=e,e?null===(n=this.reconnected)||void 0===n||n.call(this):null===(o=this.disconnected)||void 0===o||o.call(this)),t&&(r(this,e),s(this))}setValue(e){if((0,i.OR)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}class h{constructor(e){this.Y=e}disconnect(){this.Y=void 0}reconnect(e){this.Y=e}deref(){return this.Y}}class p{constructor(){this.Z=void 0,this.q=void 0}get(){return this.Z}pause(){var e;null!==(e=this.Z)&&void 0!==e||(this.Z=new Promise((e=>this.q=e)))}resume(){var e;null===(e=this.q)||void 0===e||e.call(this),this.Z=this.q=void 0}}const g=e=>!(0,i.pt)(e)&&"function"==typeof e.then,m=(0,c.XM)(class extends f{constructor(){super(...arguments),this._$Cwt=1073741823,this._$Cyt=[],this._$CK=new h(this),this._$CX=new p}render(...e){var t;return null!==(t=e.find((e=>!g(e))))&&void 0!==t?t:o.Jb}update(e,t){const n=this._$Cyt;let i=n.length;this._$Cyt=t;const c=this._$CK,r=this._$CX;this.isConnected||this.disconnected();for(let e=0;e<t.length&&!(e>this._$Cwt);e++){const o=t[e];if(!g(o))return this._$Cwt=e,o;e<i&&o===n[e]||(this._$Cwt=1073741823,i=0,Promise.resolve(o).then((async e=>{for(;r.get();)await r.get();const t=c.deref();if(void 0!==t){const n=t._$Cyt.indexOf(o);n>-1&&n<t._$Cwt&&(t._$Cwt=n,t.setValue(e))}})))}return o.Jb}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}})}}]);
//# sourceMappingURL=517.js.map