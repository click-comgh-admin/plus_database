"use strict";!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.webpackNumbers=t():e.webpackNumbers=t()}(self,(()=>(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([[2280],{9210:(e,t,s)=>{s.r(t),s.d(t,{PdbAdminUserEditGroupSubgroupForm:()=>U});var r=s(9392),i=s(1936),n=s(2004),o=s(7052),u=s(4672),c=s(6262),l=(s(6811),s(2715),s(8763),s(4494),s(7775)),d=s(2506),a=s(3600),p=s(8474),h=s(6995),g=(s(3683),s(4657),s(9665)),b=s(2145),y=s(1302),f=s(1710),_=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function u(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,u)}c((r=r.apply(e,t||[])).next())}))};let U=class extends r.oi{constructor(){super(),this.userId=0,this.loggedUserId=0,this.editAccess=!1,this.page_type="mine",this._activeBranchId=null,this._userLoginInfo=null,this.__clientUser=null,this.__clientUserGroupSubgroup=this._clientUserGroupSubgroupDefault,this._hasSetup=!1}set _clientUser(e){this.__clientUser=e,this.requestUpdate()}get _clientUser(){return this.__clientUser}get _clientUserGroupSubgroupDefault(){return{data:{},message:"",success:!1}}set _clientUserGroupSubgroup(e){this.__clientUserGroupSubgroup=e,this.requestUpdate()}get _clientUserGroupSubgroup(){return this.__clientUserGroupSubgroup}connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return v(this,void 0,void 0,(function*(){e.connectedCallback.call(this),(0,g.f)().then((()=>this._hasSetup=!0)),this.getUserId();const t=(0,n.hk)();this._activeBranchId=null===t?null:[t],this._userLoginInfo=[(0,a.Ie)()],0===this.userId||null===this.userId||Number.isNaN(this.userId)||(yield this.getClientUser(),this._clientUser.success&&(yield this.getLoggedUserAccess(),yield this.getClientUserGroupSubgroup(),this.userId===this.loggedUserId?this.page_type="mine":this.page_type="not-mine"))}))}disconnectedCallback(){}render(){var e;if(this._hasSetup){if(null===(e=(0,b.H)())||void 0===e?void 0:e.expiration_date.expired)return r.dy`<account-expired-component></account-expired-component>`;if(!(0,y.H)({pageId:f.W.update,viewType:"Both"},!1))return r.dy`<no-page-entry-component></no-page-entry-component>`}if(0===this.userId||null===this.userId||Number.isNaN(this.userId)){const e=r.dy`<h4 class="text-white">Error</h4>`,t=r.dy`
        <div>
          <p class="text-black mb-2">User Not Found!</p>
          <p class="text-black mb-2"><small>Follow the link back to users page.</small></p>
          <link-button isblockcontent="false" aClass="" raised bClass="button warning mr-2" href="/admin/user/accounts"
            label="Client Users Page"></link-button>
        </div>
      `;return r.dy`<alert-card warning .header="${e}" .content="${t}"></alert-card>`}return null===this._clientUser?r.dy`
          <div class="main-container">
            <div class="flex justify-center">
              <mwc-circular-progress indeterminate></mwc-circular-progress>
            </div>
          </div>
        `:void 0===this._clientUser?r.dy`
          <div class="main-container">
            <div class="flex justify-center">
              <h4 class="text-red-600 text-lg">
                <span class="font-bold">Error </span>: undefined error</h4>
            </div>
          </div>
        `:r.dy`
        <div class="shadow bg-white p-2 my-2">
          <pdb-admin-user-group-subgroup-form edit="true" page_type="${this.page_type}" ?editaccess="${this.editAccess}" .clientUser="${this._clientUser}"
            .clientUserGroupSubgroup="${this._clientUserGroupSubgroup}" .userId="${this.userId}">
          </pdb-admin-user-group-subgroup-form>
        </div>
      `}firstUpdated(){}getUserId(){let e=(0,u.Jx)("user-id"),t=null!==e?(0,o.t)(e):null;this.userId=Number.isNaN(t)?null:Number(t)}getClientUser(){return v(this,void 0,void 0,(function*(){let e=0;null!==this._activeBranchId&&(e=this._activeBranchId[0].id);const t=yield(0,c.a)(this.userId,"?branchId="+e);this._clientUser=null===t?void 0:t.response}))}getClientUserGroupSubgroup(){return v(this,void 0,void 0,(function*(){const e=yield(0,p.x)(null,"?userId="+this.userId);if(null===e)this._clientUserGroupSubgroup=void 0;else{const t=e.response.data;Array.isArray(t)?e.response.data=t.map((e=>h.e.toClientUserGroupSubgroupModel(JSON.stringify(e)))):e.response.data=[h.e.toClientUserGroupSubgroupModel(JSON.stringify(t))],this._clientUserGroupSubgroup=e.response}}))}getLoggedUserAccess(){return v(this,void 0,void 0,(function*(){let e=0;null!==this._userLoginInfo&&this._userLoginInfo.length>0&&(e=this._userLoginInfo[0].user.id),this.loggedUserId=e;const t=yield(0,d.H)(null,"?logged_user_this&userId="+this.loggedUserId);if(null!==t&&t.response.success){const e=t.response.data;Array.isArray(e)&&e.forEach((e=>{14===(e=(0,l.z)(e)).page.id&&(this.editAccess=!0)}))}}))}createRenderRoot(){return this}};U.styles=[r.iv`
   :host { display: block; }
  `],_([(0,i.Cb)({type:Number}),m("design:type",Number)],U.prototype,"userId",void 0),_([(0,i.Cb)({type:Number}),m("design:type",Number)],U.prototype,"loggedUserId",void 0),_([(0,i.Cb)({type:Boolean}),m("design:type",Boolean)],U.prototype,"editAccess",void 0),_([(0,i.Cb)({type:String}),m("design:type",String)],U.prototype,"page_type",void 0),_([(0,i.Cb)({type:Array}),m("design:type",Array)],U.prototype,"_activeBranchId",void 0),_([(0,i.Cb)({type:Array}),m("design:type",Array)],U.prototype,"_userLoginInfo",void 0),_([(0,i.Cb)({type:Boolean}),m("design:type",Boolean)],U.prototype,"_hasSetup",void 0),U=_([(0,i.Mo)("pdb-admin-user-edit-group-subgroup-form"),m("design:paramtypes",[])],U)}},e=>(e.O(0,[2185,5744,9674,8820,1828,316,836,5291,6236,6069,7751,4710,7520,3712],(()=>(9210,e(e.s=9210)))),e.O())])));
//# sourceMappingURL=edit_group_subgroup.js.map